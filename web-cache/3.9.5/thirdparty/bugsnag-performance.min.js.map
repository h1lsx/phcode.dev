{"version":3,"sources":["thirdparty/bugsnag-performance.min.js"],"names":["t","e","Array","isArray","s","Number","isFinite","isNaN","n","r","length","a","every","RegExp","i","[object Object]","this","attributes","set","delete","from","map","isInteger","key","value","intValue","doubleValue","boolValue","stringValue","o","Map","super","u","c","appVersion","defaultValue","message","validate","endpoint","apiKey","test","logger","console","debug","info","warn","error","releaseStage","enabledReleaseStages","plugins","configure","bugsnag","addOnError","samplingProbability","l","spans","timeout","flushQueue","Promise","resolve","delivery","configuration","retryQueue","sampler","probabilityManager","encoder","flush","bind","clearTimeout","stop","setTimeout","batchInactivityTimeoutMs","includes","push","maximumBatchSize","start","then","prepareBatch","encode","Date","now","send","setProbability","state","add","ensureFreshProbability","spanProbability","raw","sample","d","events","name","time","timeUnixNano","toUnixTimestampNanoseconds","h","parseInt","slice","g","kind","id","traceId","parentSpanId","startTime","samplingRate","clock","endTime","p","getDefaultValue","parentContext","isValid","makeCurrentContext","isFirstClass","f","resourceAttributeSource","spanId","startTimeUnixNano","endTimeUnixNano","toJson","body","resourceSpans","resource","scopeSpans","headers","Bugsnag-Api-Key","Content-Type","Bugsnag-Span-Sampling","generateSamplingHeader","Object","create","keys","join","b","Set","m","probability","y","payload","timeBetweenRetries","v","w","load","outstandingFreshnessCheck","persistence","probabilityFetcher","lastProbabilityTime","save","getNewProbability","S","k","Math","floor","T","_probability","scaledProbability","scaled","C","isInForeground","onBackgroundStateChange","contextStack","onStateChange","Symbol","iterator","current","pop","removeClosedContexts","first","x","convert","R","openSpans","WeakSet","processor","idGenerator","spanAttributesSource","spanContextStorage","generate","method","toUpperCase","validateSpanOptions","startSpan","options","setAttribute","url","end","entries","requestAttributes","endSpan","String","prototype","hasOwnProperty","call","A","__esModule","default","P","substr","E","I","window","self","q","F","V","navigator","mimeTypes","userAgent","toString","L","O","N","U","B","D","_","pow","j","random","$","getTime","fingerprint","isCuid","M","H","Q","persistedItems","get","K","JSON","parse","z","retryQueueMaxSize","requestQueue","payloads","reduce","J","shift","W","parseFloat","G","X","Y","callbacks","onRequestEnd","extraRequestHeaders","filter","Z","tt","indexOf","URL","href","endsWith","et","st","referrer","title","nt","rt","at","pathname","it","resolveRoute","ot","addEventListener","history","pushState","document","baseURI","apply","ut","wasBackgrounded","location","spanFactory","webVitals","onSettle","performance","autoInstrumentFullPageLoads","querySelector","getAttribute","split","sendPageAttributes","routingProvider","getEntriesByType","unloadEventStart","unloadEventEnd","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","secureConnectionStart","connectEnd","connectStart","requestStart","responseStart","responseEnd","domContentLoadedEventStart","domContentLoadedEventEnd","loadEventStart","loadEventEnd","attachTo","ct","lt","fetchTracker","xhrTracker","configEndpoint","networkRequestCallback","trackRequest","shouldTrackRequest","type","propagateTraceContext","getExtraRequestHeaders","startNetworkSpan","http.status_code","status","autoInstrumentNetworkRequests","onStart","some","startsWith","shouldSample","traceparent","dt","tracestate","ht","gt","pt","PerformanceObserverClass","supportedEntryTypes","getEntries","initiatorType","search","nextHopProtocol","encodedBodySize","decodedBodySize","responseStatus","observe","buffered","entryTypes","ft","bt","mt","yt","trigger","vt","autoInstrumentRouteChanges","listenForRouteChanges","toPublicApi","wt","St","abs","kt","Tt","Ct","Uint8Array","crypto","getRandomValues","xt","settled","isSettled","Rt","MutationObserver","restart","subtree","childList","characterData","settle","At","readyState","settleUsingPerformance","entryType","timing","navigationStart","Pt","urlsToIgnore","outstandingRequests","onRequestStart","shouldIgnoreUrl","Et","settlers","subscribe","settlersAreSettled","It","storage","getItem","setItem","stringify","qt","observers","observeLargestContentfulPaint","observeLayoutShift","firstContentfulPaint","addEvent","timeToFirstByte","firstInputDelay","cumulativeLayoutShift","largestContentfulPaint","disconnect","getEntriesByName","processingStart","hadRecentInput","previousStartTime","firstStartTime","Ft","Vt","Lt","currentSpanContext","visibilityState","getValue","permitted","values","timeOrigin","date","round","localStorage","serviceName","userAgentData","platform","mobile","generateAnonymousId","fetch","Headers","has","catch","WeakMap","open","removeEventListener","setRequestHeader","DONE","XMLHttpRequest","PerformanceObserver","unsubscribe","settleIgnoreUrls","concat","setUrlsToIgnore","backgroundingListener","schema","Error","hostname","Event","setTraceCorrelation","Client","_notify","deliveryFactory","retryQueueFactory","resourceAttributesSource","getPlugin","platformExtensions","toISOString","keepalive","Ot","Nt","Ut"],"mappings":"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","sourcesContent":["const t=t=>!0===t||!1===t,e=t=>!!t&&\"object\"==typeof t&&!Array.isArray(t),s=t=>\"number\"==typeof t&&Number.isFinite(t)&&!Number.isNaN(t),n=t=>\"string\"==typeof t,r=t=>n(t)&&t.length>0,a=t=>Array.isArray(t)&&t.every((t=>r(t)||t instanceof RegExp));class i{constructor(t){this.attributes=t}set(t,e){(\"string\"==typeof e||\"boolean\"==typeof e||s(e))&&this.attributes.set(t,e)}remove(t){this.attributes.delete(t)}toJson(){return Array.from(this.attributes).map((([t,e])=>function(t,e){switch(typeof e){case\"number\":if(Number.isNaN(e)||!Number.isFinite(e))return;return\"bugsnag.sampling.p\"!==t&&Number.isInteger(e)?{key:t,value:{intValue:`${e}`}}:{key:t,value:{doubleValue:e}};case\"boolean\":return{key:t,value:{boolValue:e}};case\"string\":return{key:t,value:{stringValue:e}};default:return}}(t,e)))}}class o extends i{constructor(t,e,s,n,r){const a=new Map([[\"deployment.environment\",t],[\"telemetry.sdk.name\",n],[\"telemetry.sdk.version\",r],[\"service.name\",s]]);e.length>0&&a.set(\"service.version\",e),super(a)}}const u=1e6;const c={appVersion:{defaultValue:\"\",message:\"should be a string\",validate:r},endpoint:{defaultValue:\"https://otlp.bugsnag.com/v1/traces\",message:\"should be a string\",validate:r},apiKey:{defaultValue:\"\",message:\"should be a 32 character hexadecimal string\",validate:t=>n(t)&&/^[a-f0-9]{32}$/.test(t)},logger:{defaultValue:{debug(t){console.debug(t)},info(t){console.info(t)},warn(t){console.warn(t)},error(t){console.error(t)}},message:\"should be a Logger object\",validate:t=>e(t)&&\"function\"==typeof t.debug&&\"function\"==typeof t.info&&\"function\"==typeof t.warn&&\"function\"==typeof t.error},releaseStage:{defaultValue:\"production\",message:\"should be a string\",validate:r},enabledReleaseStages:{defaultValue:null,message:\"should be an array of strings\",validate:t=>null===t||(t=>Array.isArray(t)&&t.every(r))(t)},plugins:{defaultValue:[],message:\"should be an array of plugin objects\",validate:function(t){return Array.isArray(t)&&t.every((t=>function(t){return e(t)&&\"function\"==typeof t.configure}(t)))}},bugsnag:{defaultValue:void 0,message:\"should be an instance of Bugsnag\",validate:t=>e(t)&&\"function\"==typeof t.addOnError},samplingProbability:{defaultValue:void 0,message:\"should be a number between 0 and 1\",validate:t=>void 0===t||s(t)&&t>=0&&t<=1}};class l{constructor(t,e,s,n,r,a){this.spans=[],this.timeout=null,this.flushQueue=Promise.resolve(),this.delivery=t,this.configuration=e,this.retryQueue=s,this.sampler=n,this.probabilityManager=r,this.encoder=a,this.flush=this.flush.bind(this)}stop(){null!==this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}start(){this.stop(),this.timeout=setTimeout(this.flush,this.configuration.batchInactivityTimeoutMs)}add(t){this.configuration.enabledReleaseStages&&!this.configuration.enabledReleaseStages.includes(this.configuration.releaseStage)||(this.spans.push(t),this.spans.length>=this.configuration.maximumBatchSize?this.flush():this.start())}async flush(){this.stop(),this.flushQueue=this.flushQueue.then((async()=>{const t=await this.prepareBatch();if(!t)return;const e=await this.encoder.encode(t),s=Date.now();try{const t=await this.delivery.send(e);switch(void 0!==t.samplingProbability&&this.probabilityManager.setProbability(t.samplingProbability),t.state){case\"success\":this.retryQueue.flush();break;case\"failure-discard\":this.configuration.logger.warn(\"delivery failed\");break;case\"failure-retryable\":this.configuration.logger.info(\"delivery failed, adding to retry queue\"),this.retryQueue.add(e,s);break;default:t.state}}catch(t){this.configuration.logger.warn(\"delivery failed\")}})),await this.flushQueue}async prepareBatch(){if(0===this.spans.length)return;await this.probabilityManager.ensureFreshProbability();const t=[],e=this.sampler.spanProbability;for(const s of this.spans)s.samplingProbability.raw>e.raw&&(s.samplingProbability=e),this.sampler.sample(s)&&t.push(s);return this.spans=[],0!==t.length?t:void 0}}class d{constructor(){this.events=[]}add(t,e){this.events.push({name:t,time:e})}toJson(t){return this.events.map((({name:e,time:s})=>({name:e,timeUnixNano:t.toUnixTimestampNanoseconds(s)})))}}function h(t){let e=0;for(let s=0;s<t.length/8;s++){const n=8*s;e=(e^Number.parseInt(t.slice(n,n+8),16))>>>0}return e}class g{constructor(t,e,s,n,r,a,i){this.kind=3,this.events=new d,this.id=t,this.traceId=e,this.parentSpanId=i,this.name=s,this.startTime=n,this.attributes=r,this.samplingRate=h(this.traceId),this.clock=a}addEvent(t,e){this.events.add(t,e)}setAttribute(t,e){this.attributes.set(t,e)}end(t,e){this.endTime=t;let s=e;return this.attributes.set(\"bugsnag.sampling.p\",s.raw),{id:this.id,name:this.name,kind:this.kind,traceId:this.traceId,startTime:this.startTime,attributes:this.attributes,events:this.events,samplingRate:this.samplingRate,endTime:t,get samplingProbability(){return s},set samplingProbability(t){s=t,this.attributes.set(\"bugsnag.sampling.p\",s.raw)},parentSpanId:this.parentSpanId}}isValid(){return void 0===this.endTime&&this.startTime>this.clock.now()-36e5}}const p={startTime:{message:\"should be a number or Date\",getDefaultValue:()=>{},validate:function(t){return s(t)||t instanceof Date}},parentContext:{message:\"should be a SpanContext\",getDefaultValue:()=>{},validate:t=>null===t||(t=>e(t)&&\"string\"==typeof t.id&&\"string\"==typeof t.traceId&&\"function\"==typeof t.isValid)(t)},makeCurrentContext:{message:\"should be true|false\",getDefaultValue:()=>{},validate:t},isFirstClass:{message:\"should be true|false\",getDefaultValue:()=>{},validate:t}};class f{constructor(t,e,s){this.clock=t,this.configuration=e,this.resourceAttributeSource=s}async encode(t){const e=await this.resourceAttributeSource(this.configuration),s=Array(t.length);for(let e=0;e<t.length;++e)s[e]=(n=t[e],r=this.clock,{name:n.name,kind:n.kind,spanId:n.id,traceId:n.traceId,parentSpanId:n.parentSpanId,startTimeUnixNano:r.toUnixTimestampNanoseconds(n.startTime),endTimeUnixNano:r.toUnixTimestampNanoseconds(n.endTime),attributes:n.attributes.toJson(),events:n.events.toJson(r)});var n,r;return{body:{resourceSpans:[{resource:{attributes:e.toJson()},scopeSpans:[{spans:s}]}]},headers:{\"Bugsnag-Api-Key\":this.configuration.apiKey,\"Content-Type\":\"application/json\",...void 0!==this.configuration.samplingProbability?{}:{\"Bugsnag-Span-Sampling\":this.generateSamplingHeader(t)}}}}generateSamplingHeader(t){if(0===t.length)return\"1:0\";const e=Object.create(null);for(const s of t){const t=e[s.samplingProbability.raw]||0;e[s.samplingProbability.raw]=t+1}const s=Object.keys(e),n=Array(s.length);for(let t=0;t<s.length;++t){const r=s[t];n[t]=`${r}:${e[r]}`}return n.join(\";\")}}const b=new Set([402,407,408,429]);class m{static async create(t,e){return t.probability=e,new m(t,e)}constructor(t,e){this.sampler=t,this.samplingProbability=e}setProbability(t){return Promise.resolve()}ensureFreshProbability(){return Promise.resolve()}}class y{constructor(t,e){this.delivery=t,this.payload={body:{resourceSpans:[]},headers:{\"Bugsnag-Api-Key\":e,\"Content-Type\":\"application/json\",\"Bugsnag-Span-Sampling\":\"1.0:0\"}}}async getNewProbability(){for(;;){const t=await this.delivery.send(this.payload);if(void 0!==t.samplingProbability)return t.samplingProbability;await this.timeBetweenRetries()}}timeBetweenRetries(){return new Promise((t=>{setTimeout(t,3e4)}))}}const v=864e5;class w{static async create(t,e,s){const n=await t.load(\"bugsnag-sampling-probability\");let r;return void 0===n?(e.probability=1,r=0):(n.time,Date.now(),e.probability=n.value,r=n.time),new w(t,e,s,r)}constructor(t,e,s,n){this.outstandingFreshnessCheck=void 0,this.persistence=t,this.sampler=e,this.probabilityFetcher=s,this.lastProbabilityTime=n,this.ensureFreshProbability()}setProbability(t){return this.lastProbabilityTime=Date.now(),this.sampler.probability=t,this.persistence.save(\"bugsnag-sampling-probability\",{value:t,time:this.lastProbabilityTime})}ensureFreshProbability(){return this.outstandingFreshnessCheck?this.outstandingFreshnessCheck:Date.now()-this.lastProbabilityTime>=v?(this.outstandingFreshnessCheck=this.probabilityFetcher.getNewProbability().then((t=>{this.setProbability(t),this.outstandingFreshnessCheck=void 0})),this.outstandingFreshnessCheck):Promise.resolve()}}class S{constructor(){this.spans=[]}add(t){this.spans.push(t)}}function k(t){return Math.floor(4294967295*t)}class T{constructor(t){this._probability=t,this.scaledProbability=k(t)}get probability(){return this._probability}set probability(t){this._probability=t,this.scaledProbability=k(t)}get spanProbability(){return{raw:this._probability,scaled:this.scaledProbability}}sample(t){return t.samplingRate<=t.samplingProbability.scaled}shouldSample(t){return t<=this.spanProbability.scaled}}class C{constructor(t,e=[]){this.isInForeground=!0,this.onBackgroundStateChange=t=>{this.isInForeground=\"in-foreground\"===t,this.contextStack.length=0},this.contextStack=e,t.onStateChange(this.onBackgroundStateChange)}*[Symbol.iterator](){for(let t=this.contextStack.length-1;t>=0;--t)yield this.contextStack[t]}push(t){t.isValid()&&this.isInForeground&&this.contextStack.push(t)}pop(t){var e,s;e=t,s=this.current,(e===s||void 0!==e&&void 0!==s&&e.id===s.id&&e.traceId===s.traceId)&&this.contextStack.pop(),this.removeClosedContexts()}get first(){return this.removeClosedContexts(),this.contextStack.length>0?this.contextStack[0]:void 0}get current(){return this.removeClosedContexts(),this.contextStack.length>0?this.contextStack[this.contextStack.length-1]:void 0}removeClosedContexts(){for(;this.contextStack.length>0&&!1===this.contextStack[this.contextStack.length-1].isValid();)this.contextStack.pop()}}function x(t,e){return s(e)?e:e instanceof Date?t.convert(e):t.now()}class R{constructor(t,e,s,n,r,a,i,o){this.openSpans=new WeakSet,this.isInForeground=!0,this.onBackgroundStateChange=t=>{this.isInForeground=\"in-foreground\"===t,this.openSpans=new WeakSet},this.processor=t,this.sampler=e,this.idGenerator=s,this.spanAttributesSource=n,this.clock=r,this.logger=i,this.spanContextStorage=o,a.onStateChange(this.onBackgroundStateChange)}startSpan(t,s){const n=x(this.clock,s.startTime),r=this.idGenerator.generate(64),a=(o=s.parentContext,e(o)&&\"string\"==typeof o.id&&\"string\"==typeof o.traceId||null===s.parentContext?s.parentContext:this.spanContextStorage.current);var o;const u=a?a.id:void 0,c=a?a.traceId:this.idGenerator.generate(128),l=new i(new Map);\"boolean\"==typeof s.isFirstClass&&l.set(\"bugsnag.span.first_class\",s.isFirstClass);const d=new g(r,c,t,n,l,this.clock,u);return this.isInForeground&&(this.openSpans.add(d),!1!==s.makeCurrentContext&&this.spanContextStorage.push(d)),d}startNetworkSpan(t){const e=`[HTTP/${t.method.toUpperCase()}]`,s=this.validateSpanOptions(e,t),n=this.startSpan(s.name,{...s.options,makeCurrentContext:!1});return n.setAttribute(\"bugsnag.span.category\",\"network\"),n.setAttribute(\"http.method\",t.method),n.setAttribute(\"http.url\",t.url),n}configure(t,e){this.processor=t,this.logger=e}endSpan(t,e,s){this.spanContextStorage.pop(t);const n=!this.openSpans.delete(t),r=t.isValid();if(n&&!r&&this.logger.warn(\"Attempted to end a Span which is no longer valid.\"),n||!r||-1===e)return void t.end(e,this.sampler.spanProbability);for(const[e,n]of Object.entries(s||{}))t.setAttribute(e,n);this.spanAttributesSource.requestAttributes(t);const a=t.end(e,this.sampler.spanProbability);this.sampler.sample(a)&&this.processor.add(a)}toPublicApi(t){return{get id(){return t.id},get traceId(){return t.traceId},get samplingRate(){return t.samplingRate},isValid:()=>t.isValid(),setAttribute:(e,s)=>{\"string\"!=typeof e?this.logger.warn(\"Invalid attribute name, expected string, got \"+typeof e):t.setAttribute(e,s)},end:e=>{const s=x(this.clock,e);this.endSpan(t,s)}}}validateSpanOptions(t,s,n=p){let r=\"\";const a={};if(\"string\"!=typeof t&&(r+=\"\\n  - name should be a string, got \"+typeof t,t=String(t)),void 0===s||e(s)){const t=s||{};for(const e of Object.keys(n))Object.prototype.hasOwnProperty.call(t,e)&&void 0!==t[e]?n[e].validate(t[e])?a[e]=t[e]:(r+=`\\n  - ${e} ${n[e].message}, got ${typeof t[e]}`,a[e]=n[e].getDefaultValue(t[e])):a[e]=n[e].getDefaultValue(t[e])}else r+=\"\\n  - options is not an object\";return r.length>0&&this.logger.warn(`Invalid span options${r}`),{name:t,options:a}}}function A(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,\"default\")?t.default:t}var P=function(t,e){var s=\"000000000\"+t;return s.substr(s.length-e)},E=P,I=\"object\"==typeof window?window:self,q=0;for(var F in I)Object.hasOwnProperty.call(I,F)&&q++;var V=E(((navigator.mimeTypes?navigator.mimeTypes.length:0)+navigator.userAgent.length).toString(36)+q.toString(36),4),L=function(){return V},O=function(t){return\"string\"==typeof t&&/^c[a-z0-9]{20,32}$/.test(t)},N=P,U=0,B=4,D=36,_=Math.pow(D,B);function j(){return N((Math.random()*_|0).toString(D),B)}function $(){return\"c\"+(new Date).getTime().toString(D)+N((U=U<_?U:0,++U-1).toString(D),B)+L()+(j()+j())}$.fingerprint=L,$.isCuid=O;const M=A($),{isCuid:H}=M;class Q{constructor(){this.persistedItems=new Map}async load(t){return this.persistedItems.get(t)}async save(t,e){this.persistedItems.set(t,e)}}function K(t,n){switch(t){case\"bugsnag-sampling-probability\":{const t=JSON.parse(n);return e(r=t)&&s(r.value)&&s(r.time)?t:void 0}case\"bugsnag-anonymous-id\":return H(n)?n:void 0}var r}class z{constructor(t,e){this.delivery=t,this.retryQueueMaxSize=e,this.requestQueue=Promise.resolve(),this.payloads=[]}add(t,e){this.payloads.push({payload:t,time:e});let s=this.payloads.reduce(((t,{payload:e})=>t+J(e)),0);for(;s>this.retryQueueMaxSize;){const t=this.payloads.shift();if(!t)break;s-=J(t.payload)}}async flush(){if(0===this.payloads.length)return;const t=this.payloads;this.payloads=[],this.requestQueue=this.requestQueue.then((async()=>{for(const{payload:e,time:s}of t)if(!(Date.now()>=s+864e5))try{const{state:t}=await this.delivery.send(e);switch(t){case\"success\":case\"failure-discard\":break;case\"failure-retryable\":this.add(e,s)}}catch(t){}})),await this.requestQueue}}function J(t){let e=0;for(let s=0;s<t.body.resourceSpans.length;++s){const n=t.body.resourceSpans[s].scopeSpans;for(let t=0;t<n.length;++t)e+=n[t].spans.length}return e}function W(t){const e=t.get(\"Bugsnag-Sampling-Probability\");if(\"string\"!=typeof e)return;const s=Number.parseFloat(e);return Number.isNaN(s)||s<0||s>1?void 0:s}function G(t){return t}function X(t){return\"function\"==typeof t}class Y{constructor(){this.callbacks=[]}onStart(t){this.callbacks.push(t)}start(t){const e=[];for(const s of this.callbacks){const n=s(t);n&&e.push(n)}return{onRequestEnd:t=>{for(const s of e)s&&s.onRequestEnd&&s.onRequestEnd(t)},extraRequestHeaders:e.map((t=>{if(t&&t.extraRequestHeaders)return t.extraRequestHeaders})).filter(Z)}}}function Z(t){return void 0!==t}function tt(t,e){if(0===t.indexOf(\"https://\")||0===t.indexOf(\"http://\"))return t;try{const s=new URL(t,e).href;return!t.endsWith(\"/\")&&s.endsWith(\"/\")?s.slice(0,-1):s}catch(e){return t}}function et(t){return!(!t||\"object\"!=typeof t||t instanceof URL)}const st={referrer:!0,title:!0,url:!0};function nt(t){return{...st,...t}}function rt(t){const s=[\"undefined\",\"boolean\"],n=Object.keys(st);return e(t)&&n.every((e=>s.includes(typeof t[e])))}const at=t=>t.pathname||\"/\",it=()=>class{constructor(t=at){this.resolveRoute=t}listenForRouteChanges(t){}},ot=(t,e)=>class{constructor(t=at){this.resolveRoute=t}listenForRouteChanges(s){addEventListener(\"popstate\",(n=>{const r=new URL(e.href),a=s(r,\"popstate\");t((t=>{a.end(t)}))}));const n=history.pushState;history.pushState=function(...e){const r=e[2];if(r){const e=new URL(tt(r.toString(),document.baseURI)),n=s(e,\"pushState\");t((t=>{n.end(t)}))}n.apply(this,e)}}};class ut{constructor(t,e,s,n,r,a,i){this.wasBackgrounded=!1,this.document=t,this.location=e,this.spanFactory=s,this.webVitals=n,this.onSettle=r,this.performance=i,a.onStateChange((t=>{this.wasBackgrounded||\"in-background\"!==t||(this.wasBackgrounded=!0)}))}configure(t){if(!t.autoInstrumentFullPageLoads||this.wasBackgrounded)return;let e=null;const s=document.querySelector('meta[name=\"traceparent\"]');if(null!==s&&s.getAttribute(\"content\")){const t=s.getAttribute(\"content\"),[,n,r]=t.split(\"-\");e={traceId:n,id:r}}const n=this.spanFactory.startSpan(\"[FullPageLoad]\",{startTime:0,parentContext:e}),r=nt(t.sendPageAttributes),a=new URL(this.location.href);this.onSettle((e=>{if(this.wasBackgrounded)return;const s=t.routingProvider.resolveRoute(a)||at(a);n.name+=s,((t,e,s,n)=>{function r(e,r,a){if(function(t,e){return void 0===t||void 0===e||0===t&&0===e}(r,a))return;const i=t.startSpan(`[PageLoadPhase/${e}]${s}`,{startTime:r,parentContext:n,makeCurrentContext:!1});i.setAttribute(\"bugsnag.span.category\",\"page_load_phase\"),i.setAttribute(\"bugsnag.phase\",e),t.endSpan(i,a)}const a=e.getEntriesByType(\"navigation\"),i=Array.isArray(a)&&a[0];if(i){r(\"Unload\",i.unloadEventStart,i.unloadEventEnd),r(\"Redirect\",i.redirectStart,i.redirectEnd),r(\"LoadFromCache\",i.fetchStart,i.domainLookupStart),r(\"DNSLookup\",i.domainLookupStart,i.domainLookupEnd);const t=i.secureConnectionStart||i.connectEnd;r(\"TCPHandshake\",i.connectStart,t),r(\"TLS\",i.secureConnectionStart,i.connectEnd),r(\"HTTPRequest\",i.requestStart,i.responseStart),r(\"HTTPResponse\",i.responseStart,i.responseEnd),r(\"DomContentLoadedEvent\",i.domContentLoadedEventStart,i.domContentLoadedEventEnd),r(\"LoadEvent\",i.loadEventStart,i.loadEventEnd)}})(this.spanFactory,this.performance,s,n),n.setAttribute(\"bugsnag.span.category\",\"full_page_load\"),n.setAttribute(\"bugsnag.browser.page.route\",s),r.referrer&&n.setAttribute(\"bugsnag.browser.page.referrer\",this.document.referrer),r.title&&n.setAttribute(\"bugsnag.browser.page.title\",this.document.title),r.url&&n.setAttribute(\"bugsnag.browser.page.url\",a.toString()),this.webVitals.attachTo(n),this.spanFactory.endSpan(n,e)}))}}const ct=[\"http://\",\"https://\",\"/\",\"./\",\"../\"];class lt{constructor(t,e,s,n){this.spanFactory=t,this.spanContextStorage=e,this.fetchTracker=s,this.xhrTracker=n,this.configEndpoint=\"\",this.networkRequestCallback=G,this.logger={debug:console.debug,warn:console.warn,info:console.info,error:console.error},this.trackRequest=t=>{if(!this.shouldTrackRequest(t))return;const e=!1,s={url:t.url,type:t.type,propagateTraceContext:e},n=this.networkRequestCallback(s);if(!n)return{onRequestEnd:void 0,extraRequestHeaders:void 0};if(void 0===n.propagateTraceContext&&(n.propagateTraceContext=e),!n.url)return{onRequestEnd:void 0,extraRequestHeaders:n.propagateTraceContext?this.getExtraRequestHeaders():void 0};if(\"string\"!=typeof n.url)return void this.logger.warn(\"expected url to be a string following network request callback, got \"+typeof n.url);const r=this.spanFactory.startNetworkSpan({method:t.method,startTime:t.startTime,url:n.url});return{onRequestEnd:t=>{\"success\"===t.state&&this.spanFactory.endSpan(r,t.endTime,{\"http.status_code\":t.status})},extraRequestHeaders:n.propagateTraceContext?this.getExtraRequestHeaders(r):void 0}}}configure(t){this.logger=t.logger,t.autoInstrumentNetworkRequests&&(this.configEndpoint=t.endpoint,this.xhrTracker.onStart(this.trackRequest),this.fetchTracker.onStart(this.trackRequest),this.networkRequestCallback=t.networkRequestCallback)}shouldTrackRequest(t){return t.url!==this.configEndpoint&&ct.some((e=>t.url.startsWith(e)))}getExtraRequestHeaders(t){const e={};if(t){const s=t.traceId,n=t.id,r=this.spanFactory.sampler.shouldSample(t.samplingRate);e.traceparent=dt(s,n,r),e.tracestate=ht(s)}else if(this.spanContextStorage.current){const t=this.spanContextStorage.current,s=t.traceId,n=t.id,r=this.spanFactory.sampler.shouldSample(t.samplingRate);e.traceparent=dt(s,n,r),e.tracestate=ht(s)}return e}}function dt(t,e,s){return`00-${t}-${e}-${s?\"01\":\"00\"}`}function ht(t){return`sb=v:1;r32:${h(t)}`}function gt(t){switch(t){case\"\":return;case\"http/1.0\":return\"1.0\";case\"http/1.1\":return\"1.1\";case\"h2\":case\"h2c\":return\"2.0\";case\"h3\":return\"3.0\";case\"spdy/1\":case\"spdy/2\":case\"spdy/3\":return\"SPDY\";default:return t}}class pt{constructor(t,e,s){this.spanFactory=t,this.spanContextStorage=e,this.PerformanceObserverClass=s}configure(t){if(!((e=this.PerformanceObserverClass)&&Array.isArray(e.supportedEntryTypes)&&e.supportedEntryTypes.includes(\"resource\")))return;var e;const s=new this.PerformanceObserverClass((e=>{const s=e.getEntries();for(const e of s){if(\"fetch\"===e.initiatorType||\"xmlhttprequest\"===e.initiatorType)continue;const s=this.spanContextStorage.first;if(s){const n=t.networkRequestCallback({url:e.name,type:e.initiatorType});if(!n)return;if(\"string\"!=typeof n.url)return void t.logger.warn(\"expected url to be a string following network request callback, got \"+typeof n.url);let r=\"\";try{const t=new URL(n.url);t.search=\"\",r=t.href}catch(e){return void t.logger.warn(`Unable to parse URL returned from networkRequestCallback: ${n.url}`)}const a=this.spanFactory.startSpan(`[ResourceLoad]${r}`,{parentContext:s,startTime:e.startTime,makeCurrentContext:!1});a.setAttribute(\"bugsnag.span.category\",\"resource_load\"),a.setAttribute(\"http.url\",n.url);const i=gt(e.nextHopProtocol);i&&a.setAttribute(\"http.flavor\",i),e.encodedBodySize&&e.decodedBodySize&&(a.setAttribute(\"http.response_content_length\",e.encodedBodySize),a.setAttribute(\"http.response_content_length_uncompressed\",e.decodedBodySize)),e.responseStatus&&a.setAttribute(\"http.status_code\",e.responseStatus),this.spanFactory.endSpan(a,e.responseEnd)}}}));try{s.observe({type:\"resource\",buffered:!0})}catch(e){t.logger.warn(\"Unable to get previous resource loads as buffered observer not supported, only showing resource loads from this point on\"),s.observe({entryTypes:[\"resource\"]})}}}const{startTime:ft,parentContext:bt,makeCurrentContext:mt}=p,yt={startTime:ft,parentContext:bt,makeCurrentContext:mt,trigger:{getDefaultValue:t=>String(t),message:\"should be a string\",validate:n}};class vt{constructor(t,e,s){this.spanFactory=t,this.location=e,this.document=s}configure(t){if(!t.autoInstrumentRouteChanges)return;const s=new URL(this.location.href);let n=t.routingProvider.resolveRoute(s)||at(s);const r=nt(t.sendPageAttributes);t.routingProvider.listenForRouteChanges(((s,a,i)=>{let o;if(s instanceof URL)o=s;else try{const t=String(s);o=new URL(t)}catch(e){return t.logger.warn(\"Invalid span options\\n  - url should be a URL\"),{id:\"\",traceId:\"\",samplingRate:0,isValid:()=>!1,setAttribute:()=>{},end:()=>{}}}const u={...i,trigger:a},c=this.spanFactory.validateSpanOptions(\"[RouteChange]\",u,yt),l=t.routingProvider.resolveRoute(o)||at(o);c.name+=l;const d=this.spanFactory.startSpan(c.name,c.options);return d.setAttribute(\"bugsnag.span.category\",\"route_change\"),d.setAttribute(\"bugsnag.browser.page.route\",l),d.setAttribute(\"bugsnag.browser.page.previous_route\",n),d.setAttribute(\"bugsnag.browser.page.route_change.trigger\",c.options.trigger),r.url&&d.setAttribute(\"bugsnag.browser.page.url\",s.toString()),n=l,{id:d.id,traceId:d.traceId,isValid:d.isValid,samplingRate:d.samplingRate,setAttribute:d.setAttribute,end:s=>{const a=e(s)?s:{endTime:s};if(r.title&&d.setAttribute(\"bugsnag.browser.page.title\",this.document.title),a.url){const e=function(t){if(\"string\"==typeof t)return new URL(t);return t}(a.url),s=t.routingProvider.resolveRoute(e)||at(e);d.name=`[RouteChange]${s}`,d.setAttribute(\"bugsnag.browser.page.route\",s),n=s,r.url&&d.setAttribute(\"bugsnag.browser.page.url\",e.toString())}this.spanFactory.toPublicApi(d).end(a.endTime)}}}))}}const wt=3e5;function St(t,e){return Math.abs(Date.now()-(t+e.now()))>wt?Date.now()-e.now():t}const kt=t=>e(t)&&\"function\"==typeof t.resolveRoute&&\"function\"==typeof t.listenForRouteChanges;function Tt(t){const e=t.toString(16);return 1===e.length?\"0\"+e:e}const Ct={generate(t){const e=new Uint8Array(t/8),s=window.crypto.getRandomValues(e);return Array.from(s,Tt).join(\"\")}};class xt{constructor(t){this.settled=!1,this.callbacks=new Set,this.clock=t}subscribe(t){this.callbacks.add(t),this.isSettled()&&t(this.clock.now())}unsubscribe(t){this.callbacks.delete(t)}isSettled(){return this.settled}settle(t){this.settled=!0;for(const e of this.callbacks)e(t)}}class Rt extends xt{constructor(t,e){super(t),this.timeout=void 0;new MutationObserver((()=>{this.restart()})).observe(e,{subtree:!0,childList:!0,characterData:!0}),this.restart()}restart(){clearTimeout(this.timeout),this.settled=!1;const t=this.clock.now();this.timeout=setTimeout((()=>{this.settle(t)}),100)}}class At extends xt{constructor(t,e,s,n){super(t),\"complete\"===n.readyState?setTimeout((()=>{this.settleUsingPerformance(s)}),0):e(\"load\",(()=>{setTimeout((()=>{this.settleUsingPerformance(s)}),0)}))}settleUsingPerformance(t){const e=this.clock.now(),s=\"function\"==typeof t.getEntriesByType?t.getEntriesByType(\"navigation\")[0]:void 0;let n=0;!function(t){return!!t&&\"navigation\"===t.entryType}(s)?t.timing&&(n=t.timing.loadEventEnd-t.timing.navigationStart):n=s.loadEventEnd,(n<=0||n>e)&&(n=e),this.settle(n)}}class Pt extends xt{constructor(t,e){super(t),this.timeout=void 0,this.urlsToIgnore=[],this.outstandingRequests=0,this.settled=!0,e.onStart(this.onRequestStart.bind(this))}setUrlsToIgnore(t){this.urlsToIgnore=t}onRequestStart(t){if(!this.shouldIgnoreUrl(t.url))return clearTimeout(this.timeout),this.settled=!1,++this.outstandingRequests,{onRequestEnd:t=>{if(0==--this.outstandingRequests){const t=this.clock.now();this.timeout=setTimeout((()=>{this.settle(t)}),100)}}}}shouldIgnoreUrl(t){return this.urlsToIgnore.some((e=>e.test(t)))}}class Et extends xt{constructor(t,e){super(t),this.settlers=e;for(const t of e)t.subscribe((t=>{this.settlersAreSettled()?this.settle(t):this.settled=!1}))}isSettled(){return super.isSettled()&&this.settlersAreSettled()}settlersAreSettled(){for(const t of this.settlers)if(!t.isSettled())return!1;return!0}}class It{constructor(t){this.storage=t}async load(t){try{const e=this.storage.getItem(t);if(e)return K(t,e)}catch(t){}}async save(t,e){try{this.storage.setItem(t,function(t,e){switch(t){case\"bugsnag-sampling-probability\":return JSON.stringify(e);case\"bugsnag-anonymous-id\":return e;default:return t}}(t,e))}catch(t){}}}class qt{constructor(t,e,s){if(this.performance=t,this.clock=e,this.observers=[],s&&Array.isArray(s.supportedEntryTypes)){const t=s.supportedEntryTypes;t.includes(\"largest-contentful-paint\")&&this.observeLargestContentfulPaint(s),t.includes(\"layout-shift\")&&this.observeLayoutShift(s)}}attachTo(t){const e=this.firstContentfulPaint();e&&t.addEvent(\"fcp\",e);const s=this.timeToFirstByte();s&&t.addEvent(\"ttfb\",s);const n=this.firstInputDelay();n&&(t.addEvent(\"fid_start\",n.start),t.addEvent(\"fid_end\",n.end)),this.cumulativeLayoutShift&&t.setAttribute(\"bugsnag.metrics.cls\",this.cumulativeLayoutShift),this.largestContentfulPaint&&t.addEvent(\"lcp\",this.largestContentfulPaint);for(const t of this.observers)t.disconnect()}firstContentfulPaint(){const t=this.performance.getEntriesByName(\"first-contentful-paint\",\"paint\"),e=Array.isArray(t)&&t[0];if(e)return e.startTime}timeToFirstByte(){const t=this.performance.getEntriesByType(\"navigation\"),e=Array.isArray(t)&&t[0];let s;if(s=e?e.responseStart:this.performance.timing.responseStart-this.performance.timing.navigationStart,s>0&&s<=this.clock.now())return s}firstInputDelay(){const t=this.performance.getEntriesByType(\"first-input\"),e=Array.isArray(t)&&t[0];if(e)return{start:e.startTime,end:e.processingStart}}observeLargestContentfulPaint(t){const e=new t((t=>{const e=t.getEntries();e.length>0&&(this.largestContentfulPaint=e[e.length-1].startTime)}));e.observe({type:\"largest-contentful-paint\",buffered:!0}),this.observers.push(e)}observeLayoutShift(t){let e;const s=new t((t=>{for(const s of t.getEntries())s.hadRecentInput||(e&&s.startTime-e.previousStartTime<1e3&&s.startTime-e.firstStartTime<5e3?(e.value+=s.value,e.previousStartTime=s.startTime):e={value:s.value,firstStartTime:s.startTime,previousStartTime:s.startTime});e&&(void 0===this.cumulativeLayoutShift||e.value>this.cumulativeLayoutShift)&&(this.cumulativeLayoutShift=e.value)}));s.observe({type:\"layout-shift\",buffered:!0}),this.observers.push(s)}}let Ft,Vt,Lt;if(\"undefined\"==typeof window||\"undefined\"==typeof document)Ft=function(){const t=()=>{};return t.configure=()=>{},t}(),Vt=it(),Lt=function(){const t=()=>{};return{start:t,startSpan:()=>({id:\"\",traceId:\"\",end:t,isValid:()=>!1}),currentSpanContext:void 0}}();else{const s=function(t){const e=[];let s=\"hidden\"===t.document.visibilityState?\"in-background\":\"in-foreground\";const n={onStateChange(t){e.push(t),\"in-background\"===s&&t(s)}},r=t=>{if(s!==t){s=t;for(const t of e)t(s)}};return t.document.addEventListener(\"visibilitychange\",(function(){const e=\"hidden\"===t.document.visibilityState?\"in-background\":\"in-foreground\";r(e)})),t.addEventListener(\"pagehide\",(function(){r(\"in-background\")})),t.addEventListener(\"pageshow\",(function(){r(\"in-foreground\")})),n}(window),i=(t=>{const e={url:{name:\"bugsnag.browser.page.url\",getValue:()=>t.location.href,permitted:!1},title:{name:\"bugsnag.browser.page.title\",getValue:()=>t.title,permitted:!1}};return{configure(t){e.title.permitted=t.sendPageAttributes.title||!1,e.url.permitted=t.sendPageAttributes.url||!1},requestAttributes(t){for(const s of Object.values(e))s.permitted&&t.setAttribute(s.name,s.getValue())}}})(document),d=function(t,e){let s=St(void 0===t.timeOrigin?t.timing.navigationStart:t.timeOrigin,t);return e.onStateChange((e=>{\"in-foreground\"===e&&(s=St(s,t))})),{now:()=>t.now(),date:()=>new Date(s+t.now()),convert:t=>t.getTime()-s,toUnixTimestampNanoseconds:t=>{return(e=s+t,Math.round(e*u)).toString();var e}}}(performance,s),h=function(t){try{if(t.localStorage)return new It(t.localStorage)}catch(t){}return new Q}(window),g=function(t,e){let s,n;return function(r){const a=new o(r.releaseStage,r.appVersion,r.serviceName,\"bugsnag.performance.browser\",\"2.9.0\");if(a.set(\"browser.user_agent\",t.userAgent),t.userAgentData&&(a.set(\"browser.platform\",t.userAgentData.platform),a.set(\"browser.mobile\",t.userAgentData.mobile)),r.generateAnonymousId){if(s||(s=e.load(\"bugsnag-anonymous-id\").then((t=>{const s=t||M();return t||e.save(\"bugsnag-anonymous-id\",s),n=s,n}))),!n)return s.then((t=>(a.set(\"device.id\",t),a)));a.set(\"device.id\",n)}return Promise.resolve(a)}}(navigator,h),p=function(t,e){const s=new Y,n=t.fetch;return t.fetch=function(r,a){const i=function(t,e,s,n){const r=et(e),a=r?e.url:String(e),i=!!s&&s.method||r&&e.method||\"GET\";return{url:tt(a,n),method:i,startTime:t,type:\"fetch\"}}(e.now(),r,a,t.document&&t.document.baseURI),{onRequestEnd:o,extraRequestHeaders:u}=s.start(i),c=function(t,e,s){if(!s)return[t,e];const n=s.reduce(((t,e)=>({...t,...e})),{});return!et(t)||e&&e.headers?e=function(t,e){if(e||(e={}),function(t){return!!t&&\"object\"==typeof t&&t instanceof Headers}(e.headers)){for(const[s,n]of Object.entries(t))e.headers.has(s)||e.headers.set(s,n);return e}return{...e,headers:{...t,...e.headers}}}(n,e):function(t,e){for(const[s,n]of Object.entries(t))e.headers.has(s)||e.headers.set(s,n)}(n,t),[t,e]}(r,a,u);return n.call(this,c[0],c[1]).then((t=>(o({status:t.status,endTime:e.now(),state:\"success\"}),t))).catch((t=>{throw o({error:t,endTime:e.now(),state:\"error\"}),t}))},s}(window,d),v=function(t,e,s){const n=new Y,r=new WeakMap,a=new WeakMap,i=t.prototype.open;t.prototype.open=function(t,e,...n){r.set(this,{method:t,url:tt(String(e),s&&s.baseURI)}),i.call(this,t,e,...n)};const o=t.prototype.send;return t.prototype.send=function(s){const i=r.get(this);if(i){const s=a.get(this);s&&this.removeEventListener(\"readystatechange\",s);const{onRequestEnd:r,extraRequestHeaders:o}=n.start({type:\"xmlhttprequest\",method:i.method,url:i.url,startTime:e.now()});if(o)for(const t of o)for(const[e,s]of Object.entries(t))this.setRequestHeader(e,s);const u=s=>{if(this.readyState===t.DONE&&r){const t=this.status>0?{endTime:e.now(),status:this.status,state:\"success\"}:{endTime:e.now(),state:\"error\"};r(t)}};this.addEventListener(\"readystatechange\",u),a.set(this,u)}o.call(this,s)},n}(XMLHttpRequest,d,document),k=new qt(performance,d,window.PerformanceObserver);Ft=function(t,e,s,n,r){const a=new Rt(t,e.document),i=new Pt(t,s),o=new Pt(t,n),u=new At(t,e.addEventListener,r,e.document),c=new Et(t,[a,u,i,o]);function l(e){const s=t=>{clearTimeout(n),c.unsubscribe(s),e(t)},n=setTimeout((()=>{const n=t.now();c.unsubscribe(s),e(n)}),6e4),r=c.isSettled()?100:0,a=t.now();setTimeout((()=>{c.isSettled()?s(a):c.subscribe(s)}),r)}return l.configure=function(t){const e=t.settleIgnoreUrls.map((t=>\"string\"==typeof t?RegExp(t):t)).concat(RegExp(t.endpoint));i.setUrlsToIgnore(e),o.setUrlsToIgnore(e)},l}(d,window,p,v,performance),Vt=ot(Ft,window.location),Lt=function(t){const s=new S;let r=s;const a=t.spanContextStorage||new C(t.backgroundingListener);let i=t.schema.logger.defaultValue;const o=new T(1),u=new R(r,o,t.idGenerator,t.spanAttributesSource,t.clock,t.backgroundingListener,i,a),d=t.plugins(u,a);return{start:h=>{const g=function(t,s){if(\"string\"==typeof t&&(t={apiKey:t}),!e(t)||!n(t.apiKey)||0===t.apiKey.length)throw new Error(\"No Bugsnag API Key set\");let r=\"\";const a={};for(const e of Object.keys(s))Object.prototype.hasOwnProperty.call(t,e)?s[e].validate(t[e])?a[e]=t[e]:(r+=`\\n  - ${e} ${s[e].message}, got ${typeof t[e]}`,a[e]=s[e].defaultValue):a[e]=s[e].defaultValue;return a.apiKey=t.apiKey,a.maximumBatchSize=t.maximumBatchSize||100,a.batchInactivityTimeoutMs=t.batchInactivityTimeoutMs||3e4,r.length>0&&a.logger.warn(`Invalid configuration${r}`),a}(h,t.schema);if(g.endpoint===c.endpoint.defaultValue){const t=new URL(g.endpoint);t.hostname=`${g.apiKey}.${t.hostname}`,g.endpoint=t.toString()}if(g.bugsnag&&\"function\"==typeof g.bugsnag.Event.prototype.setTraceCorrelation&&g.bugsnag.Client){const t=g.bugsnag.Client.prototype._notify;g.bugsnag.Client.prototype._notify=function(...e){const s=a.current;s&&\"function\"==typeof e[0].setTraceCorrelation&&e[0].setTraceCorrelation(s.traceId,s.id),t.apply(this,e)}}const p=t.deliveryFactory(g.endpoint);t.spanAttributesSource.configure(g),(void 0===g.samplingProbability?w.create(t.persistence,o,new y(p,g.apiKey)):m.create(o,g.samplingProbability)).then((e=>{r=new l(p,g,t.retryQueueFactory(p,g.retryQueueMaxSize),o,e,new f(t.clock,g,t.resourceAttributesSource));for(const t of s.spans)r.add(t);t.backgroundingListener.onStateChange((t=>{r.flush(),\"in-foreground\"===t&&e.ensureFreshProbability()})),i=g.logger,u.configure(r,i)}));for(const t of g.plugins)d.push(t);for(const t of d)t.configure(g,u)},startSpan:(t,e)=>{const s=u.validateSpanOptions(t,e),n=u.startSpan(s.name,s.options);return n.setAttribute(\"bugsnag.span.category\",\"custom\"),u.toPublicApi(n)},startNetworkSpan:e=>{const s=u.startNetworkSpan(e);return{...u.toPublicApi(s),end:e=>{u.endSpan(s,x(t.clock,e.endTime),{\"http.status_code\":e.status})}}},getPlugin:t=>{for(const e of d)if(e instanceof t)return e},get currentSpanContext(){return a.current},...t.platformExtensions&&t.platformExtensions(u,a)}}({backgroundingListener:s,clock:d,resourceAttributesSource:g,spanAttributesSource:i,deliveryFactory:function(t,e,s){let n=!1;return s&&s.onStateChange((t=>{n=\"in-background\"===t})),function(s){return{async send(r){const a=JSON.stringify(r.body);r.headers[\"Bugsnag-Sent-At\"]=e.date().toISOString();try{const e=await t(s,{method:\"POST\",keepalive:n,body:a,headers:r.headers});return{state:(i=e.status,i>=200&&i<300?\"success\":i>=400&&i<500&&!b.has(i)?\"failure-discard\":\"failure-retryable\"),samplingProbability:W(e.headers)}}catch(t){return a.length>1e6?{state:\"failure-discard\"}:{state:\"failure-retryable\"}}var i}}}}(window.fetch,d,s),idGenerator:Ct,schema:(Ot=window.location.hostname,Nt=new Vt,{...c,releaseStage:{...c.releaseStage,defaultValue:\"localhost\"===Ot?\"development\":\"production\"},autoInstrumentFullPageLoads:{defaultValue:!0,message:\"should be true|false\",validate:t},autoInstrumentNetworkRequests:{defaultValue:!0,message:\"should be true|false\",validate:t},autoInstrumentRouteChanges:{defaultValue:!0,message:\"should be true|false\",validate:t},generateAnonymousId:{defaultValue:!0,message:\"should be true|false\",validate:t},routingProvider:{defaultValue:Nt,message:\"should be a routing provider\",validate:kt},settleIgnoreUrls:{defaultValue:[],message:\"should be an array of string|RegExp\",validate:a},networkRequestCallback:{defaultValue:G,message:\"should be a function\",validate:X},sendPageAttributes:{defaultValue:st,message:\"should be an object\",validate:rt},serviceName:{defaultValue:\"unknown_service\",message:\"should be a string\",validate:r}}),plugins:(t,e)=>[Ft,new ut(document,window.location,t,k,Ft,s,performance),new pt(t,e,window.PerformanceObserver),new lt(t,e,p,v),new vt(t,window.location,document)],persistence:h,retryQueueFactory:(t,e)=>new z(t,e)})}var Ot,Nt;const Ut=Lt;export{Vt as DefaultRoutingProvider,Ut as default,Ft as onSettle};//# sourceMappingURL=bugsnag-performance.min.js.map\n"],"file":"bugsnag-performance.min.js"}