{"version":3,"sources":["thirdparty/bugsnag-performance.min.js"],"names":["t","e","Array","isArray","s","Number","isFinite","isNaN","n","r","length","a","every","RegExp","i","id","traceId","isValid","o","[object Object]","this","attributes","set","delete","from","map","isInteger","key","value","intValue","doubleValue","boolValue","stringValue","u","Map","super","c","l","appVersion","defaultValue","message","validate","endpoint","apiKey","test","logger","console","debug","info","warn","error","releaseStage","enabledReleaseStages","plugins","configure","d","spans","timeout","flushQueue","Promise","resolve","delivery","configuration","retryQueue","sampler","probabilityManager","encoder","flush","bind","clearTimeout","stop","setTimeout","batchInactivityTimeoutMs","includes","push","maximumBatchSize","start","then","fetchingInitialProbability","prepareBatch","encode","Date","now","send","samplingProbability","setProbability","state","add","spanProbability","raw","sample","h","events","name","time","timeUnixNano","toUnixTimestampNanoseconds","g","kind","parentSpanId","startTime","samplingRate","parseInt","slice","endTime","p","getDefaultValue","parentContext","makeCurrentContext","isFirstClass","f","clock","resourceAttributeSource","spanId","startTimeUnixNano","endTimeUnixNano","toJson","body","resourceSpans","resource","scopeSpans","headers","Bugsnag-Api-Key","Content-Type","Bugsnag-Span-Sampling","generateSamplingHeader","Object","create","keys","join","b","Set","m","payload","timeBetweenRetries","y","v","load","probability","persistence","probabilityFetcher","lastProbabilityTime","resolveInitialProbability","fetchNewProbabilityIn","save","getNewProbability","w","S","Math","floor","k","_probability","scaledProbability","scaled","T","isInForeground","onBackgroundStateChange","contextStack","onStateChange","Symbol","iterator","current","pop","removeClosedContexts","first","C","convert","x","openSpans","WeakSet","processor","idGenerator","spanAttributesSource","spanContextStorage","generate","requestAttributes","end","endSpan","String","prototype","hasOwnProperty","call","options","R","__esModule","default","P","substr","A","I","window","self","E","q","O","navigator","mimeTypes","userAgent","toString","L","V","F","j","U","B","N","pow","D","random","_","getTime","fingerprint","isCuid","M","$","H","persistedItems","get","Q","JSON","parse","z","retryQueueMaxSize","requestQueue","payloads","reduce","K","shift","J","parseFloat","W","G","X","callbacks","onRequestEnd","extraRequestHeaders","filter","Y","Z","indexOf","URL","href","endsWith","tt","et","referrer","title","url","st","assign","nt","rt","pathname","at","resolveRoute","it","addEventListener","history","pushState","document","baseURI","apply","ot","wasBackgrounded","location","spanFactory","webVitals","onSettle","performance","autoInstrumentFullPageLoads","startSpan","sendPageAttributes","routingProvider","setAttribute","getEntriesByType","unloadEventStart","unloadEventEnd","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","secureConnectionStart","connectEnd","connectStart","requestStart","responseStart","responseEnd","domContentLoadedEventStart","domContentLoadedEventEnd","loadEventStart","loadEventEnd","attachTo","ut","ct","fetchTracker","xhrTracker","configEndpoint","networkRequestCallback","trackRequest","shouldTrackRequest","type","propagateTraceContext","getExtraRequestHeaders","method","toUpperCase","status","autoInstrumentNetworkRequests","onStart","some","startsWith","shouldSample","traceparent","lt","dt","ht","PerformanceObserverClass","supportedEntryTypes","getEntries","initiatorType","search","nextHopProtocol","encodedBodySize","decodedBodySize","responseStatus","observe","buffered","entryTypes","gt","pt","ft","bt","trigger","mt","autoInstrumentRouteChanges","listenForRouteChanges","validateSpanOptions","toPublicApi","yt","vt","abs","wt","St","kt","Uint8Array","crypto","getRandomValues","Tt","settled","isSettled","Ct","MutationObserver","restart","subtree","childList","characterData","settle","xt","readyState","settleUsingPerformance","entryType","timing","navigationStart","Rt","urlsToIgnore","outstandingRequests","onRequestStart","shouldIgnoreUrl","Pt","settlers","subscribe","settlersAreSettled","At","storage","getItem","setItem","stringify","It","observers","observeLargestContentfulPaint","observeLayoutShift","firstContentfulPaint","addEvent","timeToFirstByte","firstInputDelay","cumulativeLayoutShift","largestContentfulPaint","disconnect","getEntriesByName","processingStart","hadRecentInput","previousStartTime","firstStartTime","Et","qt","Ot","currentSpanContext","visibilityState","getValue","permitted","values","timeOrigin","date","round","localStorage","userAgentData","platform","mobile","generateAnonymousId","fetch","Headers","entries","has","catch","WeakMap","open","removeEventListener","setRequestHeader","DONE","XMLHttpRequest","PerformanceObserver","unsubscribe","settleIgnoreUrls","concat","setUrlsToIgnore","backgroundingListener","schema","Error","deliveryFactory","retryQueueFactory","resourceAttributesSource","getPlugin","platformExtensions","toISOString","keepalive","Lt","hostname","Vt","Ft"],"mappings":"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","sourcesContent":["const t=t=>!0===t||!1===t,e=t=>!!t&&\"object\"==typeof t&&!Array.isArray(t),s=t=>\"number\"==typeof t&&Number.isFinite(t)&&!Number.isNaN(t),n=t=>\"string\"==typeof t,r=t=>n(t)&&t.length>0,a=t=>Array.isArray(t)&&t.every((t=>r(t)||t instanceof RegExp));const i=t=>e(t)&&\"string\"==typeof t.id&&\"string\"==typeof t.traceId&&\"function\"==typeof t.isValid;class o{constructor(t){this.attributes=t}set(t,e){(\"string\"==typeof e||\"boolean\"==typeof e||s(e))&&this.attributes.set(t,e)}remove(t){this.attributes.delete(t)}toJson(){return Array.from(this.attributes).map((([t,e])=>function(t,e){switch(typeof e){case\"number\":if(Number.isNaN(e)||!Number.isFinite(e))return;return\"bugsnag.sampling.p\"!==t&&Number.isInteger(e)?{key:t,value:{intValue:`${e}`}}:{key:t,value:{doubleValue:e}};case\"boolean\":return{key:t,value:{boolValue:e}};case\"string\":return{key:t,value:{stringValue:e}};default:return}}(t,e)))}}class u extends o{constructor(t,e,s,n){const r=new Map([[\"deployment.environment\",t],[\"telemetry.sdk.name\",s],[\"telemetry.sdk.version\",n]]);e.length>0&&r.set(\"service.version\",e),super(r)}}const c=1e6;const l={appVersion:{defaultValue:\"\",message:\"should be a string\",validate:r},endpoint:{defaultValue:\"https://otlp.bugsnag.com/v1/traces\",message:\"should be a string\",validate:r},apiKey:{defaultValue:\"\",message:\"should be a 32 character hexadecimal string\",validate:t=>n(t)&&/^[a-f0-9]{32}$/.test(t)},logger:{defaultValue:{debug(t){console.debug(t)},info(t){console.info(t)},warn(t){console.warn(t)},error(t){console.error(t)}},message:\"should be a Logger object\",validate:t=>e(t)&&\"function\"==typeof t.debug&&\"function\"==typeof t.info&&\"function\"==typeof t.warn&&\"function\"==typeof t.error},releaseStage:{defaultValue:\"production\",message:\"should be a string\",validate:r},enabledReleaseStages:{defaultValue:null,message:\"should be an array of strings\",validate:t=>null===t||(t=>Array.isArray(t)&&t.every(r))(t)},plugins:{defaultValue:[],message:\"should be an array of plugin objects\",validate:function(t){return Array.isArray(t)&&t.every((t=>function(t){return e(t)&&\"function\"==typeof t.configure}(t)))}}};class d{constructor(t,e,s,n,r,a){this.spans=[],this.timeout=null,this.flushQueue=Promise.resolve(),this.delivery=t,this.configuration=e,this.retryQueue=s,this.sampler=n,this.probabilityManager=r,this.encoder=a,this.flush=this.flush.bind(this)}stop(){null!==this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}start(){this.stop(),this.timeout=setTimeout(this.flush,this.configuration.batchInactivityTimeoutMs)}add(t){this.configuration.enabledReleaseStages&&!this.configuration.enabledReleaseStages.includes(this.configuration.releaseStage)||(this.spans.push(t),this.spans.length>=this.configuration.maximumBatchSize?this.flush():this.start())}async flush(){this.stop(),this.flushQueue=this.flushQueue.then((async()=>{this.probabilityManager.fetchingInitialProbability&&await this.probabilityManager.fetchingInitialProbability;const t=this.prepareBatch();if(!t)return;const e=await this.encoder.encode(t),s=Date.now();try{const t=await this.delivery.send(e);switch(void 0!==t.samplingProbability&&this.probabilityManager.setProbability(t.samplingProbability),t.state){case\"success\":this.retryQueue.flush();break;case\"failure-discard\":this.configuration.logger.warn(\"delivery failed\");break;case\"failure-retryable\":this.configuration.logger.info(\"delivery failed, adding to retry queue\"),this.retryQueue.add(e,s);break;default:t.state}}catch(t){this.configuration.logger.warn(\"delivery failed\")}})),await this.flushQueue}prepareBatch(){if(0===this.spans.length)return;const t=[],e=this.sampler.spanProbability;for(const s of this.spans)s.samplingProbability.raw>e.raw&&(s.samplingProbability=e),this.sampler.sample(s)&&t.push(s);return this.spans=[],0!==t.length?t:void 0}}class h{constructor(){this.events=[]}add(t,e){this.events.push({name:t,time:e})}toJson(t){return this.events.map((({name:e,time:s})=>({name:e,timeUnixNano:t.toUnixTimestampNanoseconds(s)})))}}class g{constructor(t,e,s,n,r,a){this.kind=3,this.events=new h,this.id=t,this.traceId=e,this.parentSpanId=a,this.name=s,this.startTime=n,this.attributes=r,this.samplingRate=function(t){let e=0;for(let s=0;s<t.length/8;s++){const n=8*s;e=(e^Number.parseInt(t.slice(n,n+8),16))>>>0}return e}(this.traceId)}addEvent(t,e){this.events.add(t,e)}setAttribute(t,e){this.attributes.set(t,e)}end(t,e){this.endTime=t;let s=e;return this.attributes.set(\"bugsnag.sampling.p\",s.raw),{id:this.id,name:this.name,kind:this.kind,traceId:this.traceId,startTime:this.startTime,attributes:this.attributes,events:this.events,samplingRate:this.samplingRate,endTime:t,get samplingProbability(){return s},set samplingProbability(t){s=t,this.attributes.set(\"bugsnag.sampling.p\",s.raw)},parentSpanId:this.parentSpanId}}isValid(){return void 0===this.endTime}}const p={startTime:{message:\"should be a number or Date\",getDefaultValue:()=>{},validate:function(t){return s(t)||t instanceof Date}},parentContext:{message:\"should be a SpanContext\",getDefaultValue:()=>{},validate:t=>null===t||i(t)},makeCurrentContext:{message:\"should be true|false\",getDefaultValue:()=>{},validate:t},isFirstClass:{message:\"should be true|false\",getDefaultValue:()=>{},validate:t}};class f{constructor(t,e,s){this.clock=t,this.configuration=e,this.resourceAttributeSource=s}async encode(t){const e=await this.resourceAttributeSource(this.configuration),s=Array(t.length);for(let e=0;e<t.length;++e)s[e]=(n=t[e],r=this.clock,{name:n.name,kind:n.kind,spanId:n.id,traceId:n.traceId,parentSpanId:n.parentSpanId,startTimeUnixNano:r.toUnixTimestampNanoseconds(n.startTime),endTimeUnixNano:r.toUnixTimestampNanoseconds(n.endTime),attributes:n.attributes.toJson(),events:n.events.toJson(r)});var n,r;return{body:{resourceSpans:[{resource:{attributes:e.toJson()},scopeSpans:[{spans:s}]}]},headers:{\"Bugsnag-Api-Key\":this.configuration.apiKey,\"Content-Type\":\"application/json\",\"Bugsnag-Span-Sampling\":this.generateSamplingHeader(t)}}}generateSamplingHeader(t){if(0===t.length)return\"1:0\";const e=Object.create(null);for(const s of t){const t=e[s.samplingProbability.raw]||0;e[s.samplingProbability.raw]=t+1}const s=Object.keys(e),n=Array(s.length);for(let t=0;t<s.length;++t){const r=s[t];n[t]=`${r}:${e[r]}`}return n.join(\";\")}}const b=new Set([402,407,408,429]);class m{constructor(t,e){this.delivery=t,this.payload={body:{resourceSpans:[]},headers:{\"Bugsnag-Api-Key\":e,\"Content-Type\":\"application/json\",\"Bugsnag-Span-Sampling\":\"1.0:0\"}}}async getNewProbability(){for(;;){const t=await this.delivery.send(this.payload);if(void 0!==t.samplingProbability)return t.samplingProbability;await this.timeBetweenRetries()}}timeBetweenRetries(){return new Promise((t=>{setTimeout(t,3e4)}))}}const y=864e5;class v{static async create(t,e,s){const n=await t.load(\"bugsnag-sampling-probability\");let r,a;return void 0===n?(e.probability=1,r=0,a=0):n.time<Date.now()-y?(e.probability=n.value,r=n.time,a=0):(e.probability=n.value,r=n.time,a=y-(Date.now()-r)),new v(t,e,s,a,r)}constructor(t,e,s,n,r){this.timeout=void 0,this.persistence=t,this.sampler=e,this.probabilityFetcher=s,this.lastProbabilityTime=r,0===n&&(this.fetchingInitialProbability=new Promise((t=>{this.resolveInitialProbability=t}))),this.fetchNewProbabilityIn(n)}setProbability(t){return this.lastProbabilityTime=Date.now(),this.sampler.probability=t,this.fetchNewProbabilityIn(y),this.persistence.save(\"bugsnag-sampling-probability\",{value:t,time:this.lastProbabilityTime})}fetchNewProbabilityIn(t){clearTimeout(this.timeout);const e=this.lastProbabilityTime;this.timeout=setTimeout((async()=>{const t=await this.probabilityFetcher.getNewProbability();e===this.lastProbabilityTime&&this.setProbability(t),this.resolveInitialProbability&&(this.resolveInitialProbability(),this.resolveInitialProbability=void 0,this.fetchingInitialProbability=void 0)}),t)}}class w{constructor(){this.spans=[]}add(t){this.spans.push(t)}}function S(t){return Math.floor(4294967295*t)}class k{constructor(t){this._probability=t,this.scaledProbability=S(t)}get probability(){return this._probability}set probability(t){this._probability=t,this.scaledProbability=S(t)}get spanProbability(){return{raw:this._probability,scaled:this.scaledProbability}}sample(t){return t.samplingRate<=t.samplingProbability.scaled}shouldSample(t){return t<=this.spanProbability.scaled}}class T{constructor(t,e=[]){this.isInForeground=!0,this.onBackgroundStateChange=t=>{this.isInForeground=\"in-foreground\"===t,this.contextStack.length=0},this.contextStack=e,t.onStateChange(this.onBackgroundStateChange)}*[Symbol.iterator](){for(let t=this.contextStack.length-1;t>=0;--t)yield this.contextStack[t]}push(t){t.isValid()&&this.isInForeground&&this.contextStack.push(t)}pop(t){var e,s;e=t,s=this.current,(e===s||void 0!==e&&void 0!==s&&e.id===s.id&&e.traceId===s.traceId)&&this.contextStack.pop(),this.removeClosedContexts()}get first(){return this.removeClosedContexts(),this.contextStack.length>0?this.contextStack[0]:void 0}get current(){return this.removeClosedContexts(),this.contextStack.length>0?this.contextStack[this.contextStack.length-1]:void 0}removeClosedContexts(){for(;this.contextStack.length>0&&!1===this.contextStack[this.contextStack.length-1].isValid();)this.contextStack.pop()}}function C(t,e){return s(e)?e:e instanceof Date?t.convert(e):t.now()}class x{constructor(t,e,s,n,r,a,i,o){this.openSpans=new WeakSet,this.isInForeground=!0,this.onBackgroundStateChange=t=>{this.isInForeground=\"in-foreground\"===t,this.openSpans=new WeakSet},this.processor=t,this.sampler=e,this.idGenerator=s,this.spanAttributesSource=n,this.clock=r,this.logger=i,this.spanContextStorage=o,a.onStateChange(this.onBackgroundStateChange)}startSpan(t,e){const s=C(this.clock,e.startTime),n=this.idGenerator.generate(64),r=i(e.parentContext)||null===e.parentContext?e.parentContext:this.spanContextStorage.current,a=r?r.id:void 0,u=r?r.traceId:this.idGenerator.generate(128),c=new o(new Map);\"boolean\"==typeof e.isFirstClass&&c.set(\"bugsnag.span.first_class\",e.isFirstClass);const l=new g(n,u,t,s,c,a);return this.isInForeground&&(this.openSpans.add(l),!1!==e.makeCurrentContext&&this.spanContextStorage.push(l)),l}configure(t,e){this.processor=t,this.logger=e}endSpan(t,e){if(!this.openSpans.delete(t))return void(t.isValid()||this.logger.warn(\"Attempted to end a Span which has already ended.\"));if(-1===e)return;this.spanAttributesSource.requestAttributes(t);const s=t.end(e,this.sampler.spanProbability);this.spanContextStorage.pop(t),this.sampler.sample(s)&&this.processor.add(s)}toPublicApi(t){return{get id(){return t.id},get traceId(){return t.traceId},get samplingRate(){return t.samplingRate},isValid:()=>t.isValid(),end:e=>{const s=C(this.clock,e);this.endSpan(t,s)}}}validateSpanOptions(t,s,n=p){let r=\"\";const a={};if(\"string\"!=typeof t&&(r+=\"\\n  - name should be a string, got \"+typeof t,t=String(t)),void 0===s||e(s)){const t=s||{};for(const e of Object.keys(n))Object.prototype.hasOwnProperty.call(t,e)&&void 0!==t[e]?n[e].validate(t[e])?a[e]=t[e]:(r+=`\\n  - ${e} ${n[e].message}, got ${typeof t[e]}`,a[e]=n[e].getDefaultValue(t[e])):a[e]=n[e].getDefaultValue(t[e])}else r+=\"\\n  - options is not an object\";return r.length>0&&this.logger.warn(`Invalid span options${r}`),{name:t,options:a}}}function R(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,\"default\")?t.default:t}var P=function(t,e){var s=\"000000000\"+t;return s.substr(s.length-e)},A=P,I=\"object\"==typeof window?window:self,E=0;for(var q in I)Object.hasOwnProperty.call(I,q)&&E++;var O=A(((navigator.mimeTypes?navigator.mimeTypes.length:0)+navigator.userAgent.length).toString(36)+E.toString(36),4),L=function(){return O},V=function(t){return\"string\"==typeof t&&/^c[a-z0-9]{20,32}$/.test(t)},F=P,j=0,U=4,B=36,N=Math.pow(B,U);function D(){return F((Math.random()*N<<0).toString(B),U)}function _(){return\"c\"+(new Date).getTime().toString(B)+F((j=j<N?j:0,++j-1).toString(B),U)+L()+(D()+D())}_.fingerprint=L,_.isCuid=V;var M=_;const $=R(M);class H{constructor(){this.persistedItems=new Map}async load(t){return this.persistedItems.get(t)}async save(t,e){this.persistedItems.set(t,e)}}function Q(t,n){switch(t){case\"bugsnag-sampling-probability\":{const t=JSON.parse(n);return e(r=t)&&s(r.value)&&s(r.time)?t:void 0}case\"bugsnag-anonymous-id\":return M.isCuid(n)?n:void 0}var r}class z{constructor(t,e){this.delivery=t,this.retryQueueMaxSize=e,this.requestQueue=Promise.resolve(),this.payloads=[]}add(t,e){this.payloads.push({payload:t,time:e});let s=this.payloads.reduce(((t,{payload:e})=>t+K(e)),0);for(;s>this.retryQueueMaxSize;){const t=this.payloads.shift();if(!t)break;s-=K(t.payload)}}async flush(){if(0===this.payloads.length)return;const t=this.payloads;this.payloads=[],this.requestQueue=this.requestQueue.then((async()=>{for(const{payload:e,time:s}of t)if(!(Date.now()>=s+864e5))try{const{state:t}=await this.delivery.send(e);switch(t){case\"success\":case\"failure-discard\":break;case\"failure-retryable\":this.add(e,s)}}catch(t){}})),await this.requestQueue}}function K(t){let e=0;for(let s=0;s<t.body.resourceSpans.length;++s){const n=t.body.resourceSpans[s].scopeSpans;for(let t=0;t<n.length;++t)e+=n[t].spans.length}return e}function J(t){const e=t.get(\"Bugsnag-Sampling-Probability\");if(\"string\"!=typeof e)return;const s=Number.parseFloat(e);return Number.isNaN(s)||s<0||s>1?void 0:s}function W(t){return t}function G(t){return\"function\"==typeof t}class X{constructor(){this.callbacks=[]}onStart(t){this.callbacks.push(t)}start(t){const e=[];for(const s of this.callbacks){const n=s(t);n&&e.push(n)}return{onRequestEnd:t=>{for(const s of e)s&&s.onRequestEnd&&s.onRequestEnd(t)},extraRequestHeaders:e.map((t=>{if(t&&t.extraRequestHeaders)return t.extraRequestHeaders})).filter(Y)}}}function Y(t){return void 0!==t}function Z(t,e){if(0===t.indexOf(\"https://\")||0===t.indexOf(\"http://\"))return t;try{const s=new URL(t,e).href;return!t.endsWith(\"/\")&&s.endsWith(\"/\")?s.slice(0,-1):s}catch(e){return t}}function tt(t){return!(!t||\"object\"!=typeof t||t instanceof URL)}const et={referrer:!0,title:!0,url:!0};function st(t){return Object.assign(Object.assign({},et),t)}function nt(t){const s=[\"undefined\",\"boolean\"],n=Object.keys(et);return e(t)&&n.every((e=>s.includes(typeof t[e])))}const rt=t=>t.pathname||\"/\",at=()=>class{constructor(t=rt){this.resolveRoute=t}listenForRouteChanges(t){}},it=(t,e)=>class{constructor(t=rt){this.resolveRoute=t}listenForRouteChanges(s){addEventListener(\"popstate\",(n=>{const r=new URL(e.href),a=s(r,\"popstate\");t((t=>{a.end(t)}))}));const n=history.pushState;history.pushState=function(...e){const r=e[2];if(r){const e=new URL(Z(r.toString(),document.baseURI)),n=s(e,\"pushState\");t((t=>{n.end(t)}))}n.apply(this,e)}}};class ot{constructor(t,e,s,n,r,a,i){this.wasBackgrounded=!1,this.document=t,this.location=e,this.spanFactory=s,this.webVitals=n,this.onSettle=r,this.performance=i,a.onStateChange((t=>{this.wasBackgrounded||\"in-background\"!==t||(this.wasBackgrounded=!0)}))}configure(t){if(!t.autoInstrumentFullPageLoads||this.wasBackgrounded)return;const e=this.spanFactory.startSpan(\"[FullPageLoad]\",{startTime:0,parentContext:null}),s=st(t.sendPageAttributes),n=new URL(this.location.href);this.onSettle((r=>{if(this.wasBackgrounded)return;const a=t.routingProvider.resolveRoute(n)||rt(n);e.name+=a,((t,e,s,n)=>{function r(e,r,a){if(function(t,e){return void 0===t||void 0===e||0===t&&0===e}(r,a))return;const i=t.startSpan(`[PageLoadPhase/${e}]${s}`,{startTime:r,parentContext:n,makeCurrentContext:!1});i.setAttribute(\"bugsnag.span.category\",\"page_load_phase\"),i.setAttribute(\"bugsnag.phase\",e),t.endSpan(i,a)}const a=e.getEntriesByType(\"navigation\"),i=Array.isArray(a)&&a[0];if(i){r(\"Unload\",i.unloadEventStart,i.unloadEventEnd),r(\"Redirect\",i.redirectStart,i.redirectEnd),r(\"LoadFromCache\",i.fetchStart,i.domainLookupStart),r(\"DNSLookup\",i.domainLookupStart,i.domainLookupEnd);const t=i.secureConnectionStart||i.connectEnd;r(\"TCPHandshake\",i.connectStart,t),r(\"TLS\",i.secureConnectionStart,i.connectEnd),r(\"HTTPRequest\",i.requestStart,i.responseStart),r(\"HTTPResponse\",i.responseStart,i.responseEnd),r(\"DomContentLoadedEvent\",i.domContentLoadedEventStart,i.domContentLoadedEventEnd),r(\"LoadEvent\",i.loadEventStart,i.loadEventEnd)}})(this.spanFactory,this.performance,a,e),e.setAttribute(\"bugsnag.span.category\",\"full_page_load\"),e.setAttribute(\"bugsnag.browser.page.route\",a),s.referrer&&e.setAttribute(\"bugsnag.browser.page.referrer\",this.document.referrer),s.title&&e.setAttribute(\"bugsnag.browser.page.title\",this.document.title),s.url&&e.setAttribute(\"bugsnag.browser.page.url\",n.toString()),this.webVitals.attachTo(e),this.spanFactory.endSpan(e,r)}))}}const ut=[\"http://\",\"https://\",\"/\",\"./\",\"../\"];class ct{constructor(t,e,s,n){this.spanFactory=t,this.spanContextStorage=e,this.fetchTracker=s,this.xhrTracker=n,this.configEndpoint=\"\",this.networkRequestCallback=W,this.logger={debug:console.debug,warn:console.warn,info:console.info,error:console.error},this.trackRequest=t=>{if(!this.shouldTrackRequest(t))return;const e={url:t.url,type:t.type,propagateTraceContext:false},s=this.networkRequestCallback(e);if(!s)return{onRequestEnd:void 0,extraRequestHeaders:void 0};if(void 0===s.propagateTraceContext&&(s.propagateTraceContext=false),!s.url)return{onRequestEnd:void 0,extraRequestHeaders:s.propagateTraceContext?this.getExtraRequestHeaders():void 0};if(\"string\"!=typeof s.url)return void this.logger.warn(\"expected url to be a string following network request callback, got \"+typeof s.url);const n=this.spanFactory.startSpan(`[HTTP]/${t.method.toUpperCase()}`,{startTime:t.startTime,makeCurrentContext:!1});return n.setAttribute(\"bugsnag.span.category\",\"network\"),n.setAttribute(\"http.method\",t.method),n.setAttribute(\"http.url\",s.url),{onRequestEnd:t=>{\"success\"===t.state&&(n.setAttribute(\"http.status_code\",t.status),this.spanFactory.endSpan(n,t.endTime))},extraRequestHeaders:s.propagateTraceContext?this.getExtraRequestHeaders(n):void 0}}}configure(t){this.logger=t.logger,t.autoInstrumentNetworkRequests&&(this.configEndpoint=t.endpoint,this.xhrTracker.onStart(this.trackRequest),this.fetchTracker.onStart(this.trackRequest),this.networkRequestCallback=t.networkRequestCallback)}shouldTrackRequest(t){return t.url!==this.configEndpoint&&ut.some((e=>t.url.startsWith(e)))}getExtraRequestHeaders(t){const e={};if(t){const s=t.traceId,n=t.id,r=this.spanFactory.sampler.shouldSample(t.samplingRate);e.traceparent=lt(s,n,r)}else if(this.spanContextStorage.current){const t=this.spanContextStorage.current,s=t.traceId,n=t.id,r=this.spanFactory.sampler.shouldSample(t.samplingRate);e.traceparent=lt(s,n,r)}return e}}function lt(t,e,s){return`00-${t}-${e}-${s?\"01\":\"00\"}`}function dt(t){switch(t){case\"\":return;case\"http/1.0\":return\"1.0\";case\"http/1.1\":return\"1.1\";case\"h2\":case\"h2c\":return\"2.0\";case\"h3\":return\"3.0\";case\"spdy/1\":case\"spdy/2\":case\"spdy/3\":return\"SPDY\";default:return t}}class ht{constructor(t,e,s){this.spanFactory=t,this.spanContextStorage=e,this.PerformanceObserverClass=s}configure(t){if(!((e=this.PerformanceObserverClass)&&Array.isArray(e.supportedEntryTypes)&&e.supportedEntryTypes.includes(\"resource\")))return;var e;const s=new this.PerformanceObserverClass((e=>{const s=e.getEntries();for(const e of s){if(\"fetch\"===e.initiatorType||\"xmlhttprequest\"===e.initiatorType)continue;const s=this.spanContextStorage.first;if(s){const n=t.networkRequestCallback({url:e.name,type:e.initiatorType});if(!n)return;if(\"string\"!=typeof n.url)return void t.logger.warn(\"expected url to be a string following network request callback, got \"+typeof n.url);let r=\"\";try{const t=new URL(n.url);t.search=\"\",r=t.href}catch(e){return void t.logger.warn(`Unable to parse URL returned from networkRequestCallback: ${n.url}`)}const a=this.spanFactory.startSpan(`[ResourceLoad]${r}`,{parentContext:s,startTime:e.startTime,makeCurrentContext:!1});a.setAttribute(\"bugsnag.span.category\",\"resource_load\"),a.setAttribute(\"http.url\",n.url);const i=dt(e.nextHopProtocol);i&&a.setAttribute(\"http.flavor\",i),e.encodedBodySize&&e.decodedBodySize&&(a.setAttribute(\"http.response_content_length\",e.encodedBodySize),a.setAttribute(\"http.response_content_length_uncompressed\",e.decodedBodySize)),e.responseStatus&&a.setAttribute(\"http.status_code\",e.responseStatus),this.spanFactory.endSpan(a,e.responseEnd)}}}));try{s.observe({type:\"resource\",buffered:!0})}catch(e){t.logger.warn(\"Unable to get previous resource loads as buffered observer not supported, only showing resource loads from this point on\"),s.observe({entryTypes:[\"resource\"]})}}}const{startTime:gt,parentContext:pt,makeCurrentContext:ft}=p,bt={startTime:gt,parentContext:pt,makeCurrentContext:ft,trigger:{getDefaultValue:t=>String(t),message:\"should be a string\",validate:n}};class mt{constructor(t,e,s){this.spanFactory=t,this.location=e,this.document=s}configure(t){if(!t.autoInstrumentRouteChanges)return;const s=new URL(this.location.href);let n=t.routingProvider.resolveRoute(s)||rt(s);const r=st(t.sendPageAttributes);t.routingProvider.listenForRouteChanges(((s,a,i)=>{let o;if(s instanceof URL)o=s;else try{const t=String(s);o=new URL(t)}catch(e){return t.logger.warn(\"Invalid span options\\n  - url should be a URL\"),{id:\"\",traceId:\"\",samplingRate:0,isValid:()=>!1,end:()=>{}}}const u=Object.assign(Object.assign({},i),{trigger:a}),c=this.spanFactory.validateSpanOptions(\"[RouteChange]\",u,bt),l=t.routingProvider.resolveRoute(o)||rt(o);c.name+=l;const d=this.spanFactory.startSpan(c.name,c.options);return d.setAttribute(\"bugsnag.span.category\",\"route_change\"),d.setAttribute(\"bugsnag.browser.page.route\",l),d.setAttribute(\"bugsnag.browser.page.previous_route\",n),d.setAttribute(\"bugsnag.browser.page.route_change.trigger\",c.options.trigger),r.url&&d.setAttribute(\"bugsnag.browser.page.url\",s.toString()),n=l,{id:d.id,traceId:d.traceId,isValid:d.isValid,samplingRate:d.samplingRate,end:s=>{const a=e(s)?s:{endTime:s};if(r.title&&d.setAttribute(\"bugsnag.browser.page.title\",this.document.title),a.url){const e=function(t){if(\"string\"==typeof t)return new URL(t);return t}(a.url),s=t.routingProvider.resolveRoute(e)||rt(e);d.name=`[RouteChange]${s}`,d.setAttribute(\"bugsnag.browser.page.route\",s),n=s,r.url&&d.setAttribute(\"bugsnag.browser.page.url\",e.toString())}this.spanFactory.toPublicApi(d).end(a.endTime)}}}))}}const yt=3e5;function vt(t,e){return Math.abs(Date.now()-(t+e.now()))>yt?Date.now()-e.now():t}const wt=t=>e(t)&&\"function\"==typeof t.resolveRoute&&\"function\"==typeof t.listenForRouteChanges;function St(t){const e=t.toString(16);return 1===e.length?\"0\"+e:e}const kt={generate(t){const e=new Uint8Array(t/8),s=window.crypto.getRandomValues(e);return Array.from(s,St).join(\"\")}};class Tt{constructor(t){this.settled=!1,this.callbacks=new Set,this.clock=t}subscribe(t){this.callbacks.add(t),this.isSettled()&&t(this.clock.now())}unsubscribe(t){this.callbacks.delete(t)}isSettled(){return this.settled}settle(t){this.settled=!0;for(const e of this.callbacks)e(t)}}class Ct extends Tt{constructor(t,e){super(t),this.timeout=void 0;new MutationObserver((()=>{this.restart()})).observe(e,{subtree:!0,childList:!0,characterData:!0}),this.restart()}restart(){clearTimeout(this.timeout),this.settled=!1;const t=this.clock.now();this.timeout=setTimeout((()=>{this.settle(t)}),100)}}class xt extends Tt{constructor(t,e,s,n){super(t),\"complete\"===n.readyState?setTimeout((()=>{this.settleUsingPerformance(s)}),0):e(\"load\",(()=>{setTimeout((()=>{this.settleUsingPerformance(s)}),0)}))}settleUsingPerformance(t){const e=this.clock.now(),s=\"function\"==typeof t.getEntriesByType?t.getEntriesByType(\"navigation\")[0]:void 0;let n=0;!function(t){return!!t&&\"navigation\"===t.entryType}(s)?t.timing&&(n=t.timing.loadEventEnd-t.timing.navigationStart):n=s.loadEventEnd,(n<=0||n>e)&&(n=e),this.settle(n)}}class Rt extends Tt{constructor(t,e){super(t),this.timeout=void 0,this.urlsToIgnore=[],this.outstandingRequests=0,this.settled=!0,e.onStart(this.onRequestStart.bind(this))}setUrlsToIgnore(t){this.urlsToIgnore=t}onRequestStart(t){if(!this.shouldIgnoreUrl(t.url))return clearTimeout(this.timeout),this.settled=!1,++this.outstandingRequests,{onRequestEnd:t=>{if(0==--this.outstandingRequests){const t=this.clock.now();this.timeout=setTimeout((()=>{this.settle(t)}),100)}}}}shouldIgnoreUrl(t){return this.urlsToIgnore.some((e=>e.test(t)))}}class Pt extends Tt{constructor(t,e){super(t),this.settlers=e;for(const t of e)t.subscribe((t=>{this.settlersAreSettled()?this.settle(t):this.settled=!1}))}isSettled(){return super.isSettled()&&this.settlersAreSettled()}settlersAreSettled(){for(const t of this.settlers)if(!t.isSettled())return!1;return!0}}class At{constructor(t){this.storage=t}async load(t){try{const e=this.storage.getItem(t);if(e)return Q(t,e)}catch(t){}}async save(t,e){try{this.storage.setItem(t,function(t,e){switch(t){case\"bugsnag-sampling-probability\":return JSON.stringify(e);case\"bugsnag-anonymous-id\":return e;default:return t}}(t,e))}catch(t){}}}class It{constructor(t,e,s){if(this.performance=t,this.clock=e,this.observers=[],s&&Array.isArray(s.supportedEntryTypes)){const t=s.supportedEntryTypes;t.includes(\"largest-contentful-paint\")&&this.observeLargestContentfulPaint(s),t.includes(\"layout-shift\")&&this.observeLayoutShift(s)}}attachTo(t){const e=this.firstContentfulPaint();e&&t.addEvent(\"fcp\",e);const s=this.timeToFirstByte();s&&t.addEvent(\"ttfb\",s);const n=this.firstInputDelay();n&&(t.addEvent(\"fid_start\",n.start),t.addEvent(\"fid_end\",n.end)),this.cumulativeLayoutShift&&t.setAttribute(\"bugsnag.metrics.cls\",this.cumulativeLayoutShift),this.largestContentfulPaint&&t.addEvent(\"lcp\",this.largestContentfulPaint);for(const t of this.observers)t.disconnect()}firstContentfulPaint(){const t=this.performance.getEntriesByName(\"first-contentful-paint\",\"paint\"),e=Array.isArray(t)&&t[0];if(e)return e.startTime}timeToFirstByte(){const t=this.performance.getEntriesByType(\"navigation\"),e=Array.isArray(t)&&t[0];let s;if(s=e?e.responseStart:this.performance.timing.responseStart-this.performance.timing.navigationStart,s>0&&s<=this.clock.now())return s}firstInputDelay(){const t=this.performance.getEntriesByType(\"first-input\"),e=Array.isArray(t)&&t[0];if(e)return{start:e.startTime,end:e.processingStart}}observeLargestContentfulPaint(t){const e=new t((t=>{const e=t.getEntries();e.length>0&&(this.largestContentfulPaint=e[e.length-1].startTime)}));e.observe({type:\"largest-contentful-paint\",buffered:!0}),this.observers.push(e)}observeLayoutShift(t){let e;const s=new t((t=>{for(const s of t.getEntries())s.hadRecentInput||(e&&s.startTime-e.previousStartTime<1e3&&s.startTime-e.firstStartTime<5e3?(e.value+=s.value,e.previousStartTime=s.startTime):e={value:s.value,firstStartTime:s.startTime,previousStartTime:s.startTime});e&&(void 0===this.cumulativeLayoutShift||e.value>this.cumulativeLayoutShift)&&(this.cumulativeLayoutShift=e.value)}));s.observe({type:\"layout-shift\",buffered:!0}),this.observers.push(s)}}let Et,qt,Ot;if(\"undefined\"==typeof window||\"undefined\"==typeof document)Et=function(){const t=()=>{};return t.configure=()=>{},t}(),qt=at(),Ot=function(){const t=()=>{};return{start:t,startSpan:()=>({id:\"\",traceId:\"\",end:t,isValid:()=>!1}),currentSpanContext:void 0}}();else{const s=function(t){const e=[];let s=\"hidden\"===t.document.visibilityState?\"in-background\":\"in-foreground\";const n={onStateChange(t){e.push(t),\"in-background\"===s&&t(s)}},r=t=>{if(s!==t){s=t;for(const t of e)t(s)}};return t.document.addEventListener(\"visibilitychange\",(function(){const e=\"hidden\"===t.document.visibilityState?\"in-background\":\"in-foreground\";r(e)})),t.addEventListener(\"pagehide\",(function(){r(\"in-background\")})),t.addEventListener(\"pageshow\",(function(){r(\"in-foreground\")})),n}(window),r=(t=>{const e={url:{name:\"bugsnag.browser.page.url\",getValue:()=>t.location.href,permitted:!1},title:{name:\"bugsnag.browser.page.title\",getValue:()=>t.title,permitted:!1}};return{configure(t){e.title.permitted=t.sendPageAttributes.title||!1,e.url.permitted=t.sendPageAttributes.url||!1},requestAttributes(t){for(const s of Object.values(e))s.permitted&&t.setAttribute(s.name,s.getValue())}}})(document),i=function(t,e){let s=vt(void 0===t.timeOrigin?t.timing.navigationStart:t.timeOrigin,t);return e.onStateChange((e=>{\"in-foreground\"===e&&(s=vt(s,t))})),{now:()=>t.now(),date:()=>new Date(s+t.now()),convert:t=>t.getTime()-s,toUnixTimestampNanoseconds:t=>{return(e=s+t,Math.round(e*c)).toString();var e}}}(performance,s),o=function(t){try{if(t.localStorage)return new At(t.localStorage)}catch(t){}return new H}(window),h=function(t,e){let s,n;return function(r){const a=new u(r.releaseStage,r.appVersion,\"bugsnag.performance.browser\",\"2.4.1\");if(a.set(\"browser.user_agent\",t.userAgent),t.userAgentData&&(a.set(\"browser.platform\",t.userAgentData.platform),a.set(\"browser.mobile\",t.userAgentData.mobile)),r.generateAnonymousId){if(s||(s=e.load(\"bugsnag-anonymous-id\").then((t=>{const s=t||$();return t||e.save(\"bugsnag-anonymous-id\",s),n=s,n}))),!n)return s.then((t=>(a.set(\"device.id\",t),a)));a.set(\"device.id\",n)}return Promise.resolve(a)}}(navigator,o),g=function(t,e){const s=new X,n=t.fetch;return t.fetch=function(r,a){const i=function(t,e,s,n){const r=tt(e),a=r?e.url:String(e),i=!!s&&s.method||r&&e.method||\"GET\";return{url:Z(a,n),method:i,startTime:t,type:\"fetch\"}}(e.now(),r,a,t.document&&t.document.baseURI),{onRequestEnd:o,extraRequestHeaders:u}=s.start(i),c=function(t,e,s){if(!s)return[t,e];const n=s.reduce(((t,e)=>Object.assign(Object.assign({},t),e)),{});return!tt(t)||e&&e.headers?e=function(t,e){if(e||(e={}),function(t){return!!t&&\"object\"==typeof t&&t instanceof Headers}(e.headers)){for(const[s,n]of Object.entries(t))e.headers.has(s)||e.headers.set(s,n);return e}return Object.assign(Object.assign({},e),{headers:Object.assign(Object.assign({},t),e.headers)})}(n,e):function(t,e){for(const[s,n]of Object.entries(t))e.headers.has(s)||e.headers.set(s,n)}(n,t),[t,e]}(r,a,u);return n.call(this,c[0],c[1]).then((t=>(o({status:t.status,endTime:e.now(),state:\"success\"}),t))).catch((t=>{throw o({error:t,endTime:e.now(),state:\"error\"}),t}))},s}(window,i),p=function(t,e,s){const n=new X,r=new WeakMap,a=new WeakMap,i=t.prototype.open;t.prototype.open=function(t,e,...n){r.set(this,{method:t,url:Z(String(e),s&&s.baseURI)}),i.call(this,t,e,...n)};const o=t.prototype.send;return t.prototype.send=function(s){const i=r.get(this);if(i){const s=a.get(this);s&&this.removeEventListener(\"readystatechange\",s);const{onRequestEnd:r,extraRequestHeaders:o}=n.start({type:\"xmlhttprequest\",method:i.method,url:i.url,startTime:e.now()});if(o)for(const t of o)for(const[e,s]of Object.entries(t))this.setRequestHeader(e,s);const u=s=>{if(this.readyState===t.DONE&&r){const t=this.status>0?{endTime:e.now(),status:this.status,state:\"success\"}:{endTime:e.now(),state:\"error\"};r(t)}};this.addEventListener(\"readystatechange\",u),a.set(this,u)}o.call(this,s)},n}(XMLHttpRequest,i,document),y=new It(performance,i,window.PerformanceObserver);Et=function(t,e,s,n,r){const a=new Ct(t,e.document),i=new Rt(t,s),o=new Rt(t,n),u=new xt(t,e.addEventListener,r,e.document),c=new Pt(t,[a,u,i,o]);function l(e){const s=t=>{clearTimeout(n),c.unsubscribe(s),e(t)},n=setTimeout((()=>{const n=t.now();c.unsubscribe(s),e(n)}),6e4),r=c.isSettled()?100:0,a=t.now();setTimeout((()=>{c.isSettled()?s(a):c.subscribe(s)}),r)}return l.configure=function(t){const e=t.settleIgnoreUrls.map((t=>\"string\"==typeof t?RegExp(t):t)).concat(RegExp(t.endpoint));i.setUrlsToIgnore(e),o.setUrlsToIgnore(e)},l}(i,window,g,p,performance),qt=it(Et,window.location),Ot=function(t){const s=new w;let r=s;const a=t.spanContextStorage||new T(t.backgroundingListener);let i=t.schema.logger.defaultValue;const o=new k(1),u=new x(r,o,t.idGenerator,t.spanAttributesSource,t.clock,t.backgroundingListener,i,a),c=t.plugins(u,a);return Object.assign({start:a=>{const l=function(t,s){if(\"string\"==typeof t&&(t={apiKey:t}),!e(t)||!n(t.apiKey)||0===t.apiKey.length)throw new Error(\"No Bugsnag API Key set\");let r=\"\";const a={};for(const e of Object.keys(s))Object.prototype.hasOwnProperty.call(t,e)?s[e].validate(t[e])?a[e]=t[e]:(r+=`\\n  - ${e} ${s[e].message}, got ${typeof t[e]}`,a[e]=s[e].defaultValue):a[e]=s[e].defaultValue;return a.apiKey=t.apiKey,a.maximumBatchSize=t.maximumBatchSize||100,a.batchInactivityTimeoutMs=t.batchInactivityTimeoutMs||3e4,r.length>0&&a.logger.warn(`Invalid configuration${r}`),a}(a,t.schema),h=t.deliveryFactory(l.endpoint);t.spanAttributesSource.configure(l),v.create(t.persistence,o,new m(h,l.apiKey)).then((e=>{r=new d(h,l,t.retryQueueFactory(h,l.retryQueueMaxSize),o,e,new f(t.clock,l,t.resourceAttributesSource));for(const t of s.spans)r.add(t);t.backgroundingListener.onStateChange((t=>{r.flush()})),i=l.logger,u.configure(r,i)}));for(const t of l.plugins)c.push(t);for(const t of c)t.configure(l,u)},startSpan:(t,e)=>{const s=u.validateSpanOptions(t,e),n=u.startSpan(s.name,s.options);return n.setAttribute(\"bugsnag.span.category\",\"custom\"),u.toPublicApi(n)},getPlugin:t=>{for(const e of c)if(e instanceof t)return e},get currentSpanContext(){return a.current}},t.platformExtensions&&t.platformExtensions(u,a))}({backgroundingListener:s,clock:i,resourceAttributesSource:h,spanAttributesSource:r,deliveryFactory:function(t,e,s){let n=!1;return s&&s.onStateChange((t=>{n=\"in-background\"===t})),function(s){return{async send(r){const a=JSON.stringify(r.body);r.headers[\"Bugsnag-Sent-At\"]=e.date().toISOString();try{const e=await t(s,{method:\"POST\",keepalive:n,body:a,headers:r.headers});return{state:(i=e.status,i>=200&&i<300?\"success\":i>=400&&i<500&&!b.has(i)?\"failure-discard\":\"failure-retryable\"),samplingProbability:J(e.headers)}}catch(t){return a.length>1e6?{state:\"failure-discard\"}:{state:\"failure-retryable\"}}var i}}}}(window.fetch,i,s),idGenerator:kt,schema:(Lt=window.location.hostname,Vt=new qt,Object.assign(Object.assign({},l),{releaseStage:Object.assign(Object.assign({},l.releaseStage),{defaultValue:\"localhost\"===Lt?\"development\":\"production\"}),autoInstrumentFullPageLoads:{defaultValue:!0,message:\"should be true|false\",validate:t},autoInstrumentNetworkRequests:{defaultValue:!0,message:\"should be true|false\",validate:t},autoInstrumentRouteChanges:{defaultValue:!0,message:\"should be true|false\",validate:t},generateAnonymousId:{defaultValue:!0,message:\"should be true|false\",validate:t},routingProvider:{defaultValue:Vt,message:\"should be a routing provider\",validate:wt},settleIgnoreUrls:{defaultValue:[],message:\"should be an array of string|RegExp\",validate:a},networkRequestCallback:{defaultValue:W,message:\"should be a function\",validate:G},sendPageAttributes:{defaultValue:et,message:\"should be an object\",validate:nt}})),plugins:(t,e)=>[Et,new ot(document,window.location,t,y,Et,s,performance),new ht(t,e,window.PerformanceObserver),new ct(t,e,g,p),new mt(t,window.location,document)],persistence:o,retryQueueFactory:(t,e)=>new z(t,e)})}var Lt,Vt;const Ft=Ot;export{qt as DefaultRoutingProvider,Ft as default,Et as onSettle};//# sourceMappingURL=bugsnag-performance.min.js.map\n"],"file":"bugsnag-performance.min.js"}