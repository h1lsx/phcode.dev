define(function(require,exports,module){const Strings=require("strings"),NodeConnector=require("NodeConnector"),UTILS_NODE_CONNECTOR="ph_utils";let utilsConnector;async function fetchURLText(url,encoding){if(!Phoenix.isNativeApp)throw new Error("node not available in browser");const{buffer:buffer}=await utilsConnector.execPeer("getURLContent",{url:url});return iconv.decode(Buffer.from(buffer),encoding)}async function updateNodeLocaleStrings(){return!!Phoenix.isNativeApp&&(await utilsConnector.execPeer("setLocaleStrings",Strings),!0)}async function getPhoenixBinaryVersion(){if(!Phoenix.isNativeApp)throw new Error("getPhoenixBinaryVersion not available in browser");const cliArgs=await window.__TAURI__.invoke("_get_commandline_args"),phoenixBinPath=cliArgs[0];return utilsConnector.execPeer("getPhoenixBinaryVersion",phoenixBinPath)}async function getLinuxOSFlavorName(){return"linux"===Phoenix.platform&&Phoenix.isNativeApp?utilsConnector.execPeer("getLinuxOSFlavorName"):null}async function openUrlInBrowser(url,browserName){if(!Phoenix.isNativeApp)throw new Error("openUrlInBrowser not available in browser");return utilsConnector.execPeer("openUrlInBrowser",{url:url,browserName:browserName})}Phoenix.isNativeApp&&(utilsConnector=NodeConnector.createNodeConnector("ph_utils",exports)),NodeConnector.isNodeAvailable()&&updateNodeLocaleStrings(),exports.fetchURLText=fetchURLText,exports.updateNodeLocaleStrings=updateNodeLocaleStrings,exports.getPhoenixBinaryVersion=getPhoenixBinaryVersion,exports.getLinuxOSFlavorName=getLinuxOSFlavorName,exports.openUrlInBrowser=openUrlInBrowser,exports.isNodeReady=NodeConnector.isNodeReady,window.NodeUtils=exports});
//# sourceMappingURL=NodeUtils.js.map
