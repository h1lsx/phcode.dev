{"version":3,"sources":["thirdparty/bugsnag-performance.min.js"],"names":["t","e","Array","isArray","s","Number","isFinite","isNaN","n","r","length","a","every","RegExp","i","[object Object]","this","attributes","set","delete","from","map","isInteger","key","value","intValue","doubleValue","boolValue","stringValue","o","Map","super","u","c","appVersion","defaultValue","message","validate","endpoint","apiKey","test","logger","console","debug","info","warn","error","releaseStage","enabledReleaseStages","plugins","configure","l","spans","timeout","flushQueue","Promise","resolve","delivery","configuration","retryQueue","sampler","probabilityManager","encoder","flush","bind","clearTimeout","stop","setTimeout","batchInactivityTimeoutMs","includes","push","maximumBatchSize","start","then","fetchingInitialProbability","prepareBatch","encode","Date","now","send","samplingProbability","setProbability","state","add","spanProbability","raw","sample","d","events","name","time","timeUnixNano","toUnixTimestampNanoseconds","h","kind","id","traceId","parentSpanId","startTime","samplingRate","parseInt","slice","endTime","g","getDefaultValue","parentContext","isValid","makeCurrentContext","isFirstClass","p","clock","resourceAttributeSource","spanId","startTimeUnixNano","endTimeUnixNano","toJson","body","resourceSpans","resource","scopeSpans","headers","Bugsnag-Api-Key","Content-Type","Bugsnag-Span-Sampling","generateSamplingHeader","Object","create","keys","join","f","Set","b","payload","timeBetweenRetries","m","y","load","probability","persistence","probabilityFetcher","lastProbabilityTime","resolveInitialProbability","fetchNewProbabilityIn","save","getNewProbability","v","w","Math","floor","S","_probability","scaledProbability","scaled","k","isInForeground","onBackgroundStateChange","contextStack","onStateChange","Symbol","iterator","current","pop","removeClosedContexts","first","T","convert","C","openSpans","WeakSet","processor","idGenerator","spanAttributesSource","spanContextStorage","generate","method","toUpperCase","validateSpanOptions","startSpan","assign","options","setAttribute","url","entries","requestAttributes","end","endSpan","String","prototype","hasOwnProperty","call","x","__esModule","default","R","substr","P","A","window","self","I","E","O","navigator","mimeTypes","userAgent","toString","q","L","V","j","F","N","U","pow","B","random","D","getTime","fingerprint","isCuid","_","M","$","persistedItems","get","H","JSON","parse","Q","retryQueueMaxSize","requestQueue","payloads","reduce","z","shift","K","parseFloat","J","W","G","callbacks","onRequestEnd","extraRequestHeaders","filter","X","Y","indexOf","URL","href","endsWith","Z","tt","referrer","title","et","st","nt","pathname","rt","resolveRoute","at","addEventListener","history","pushState","document","baseURI","apply","it","wasBackgrounded","location","spanFactory","webVitals","onSettle","performance","autoInstrumentFullPageLoads","querySelector","getAttribute","split","sendPageAttributes","routingProvider","getEntriesByType","unloadEventStart","unloadEventEnd","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","secureConnectionStart","connectEnd","connectStart","requestStart","responseStart","responseEnd","domContentLoadedEventStart","domContentLoadedEventEnd","loadEventStart","loadEventEnd","attachTo","ot","ut","fetchTracker","xhrTracker","configEndpoint","networkRequestCallback","trackRequest","shouldTrackRequest","type","propagateTraceContext","getExtraRequestHeaders","startNetworkSpan","http.status_code","status","autoInstrumentNetworkRequests","onStart","some","startsWith","shouldSample","traceparent","ct","lt","dt","PerformanceObserverClass","supportedEntryTypes","getEntries","initiatorType","search","nextHopProtocol","encodedBodySize","decodedBodySize","responseStatus","observe","buffered","entryTypes","ht","gt","pt","ft","trigger","bt","autoInstrumentRouteChanges","listenForRouteChanges","toPublicApi","mt","yt","abs","vt","wt","St","Uint8Array","crypto","getRandomValues","kt","settled","isSettled","Tt","MutationObserver","restart","subtree","childList","characterData","settle","Ct","readyState","settleUsingPerformance","entryType","timing","navigationStart","xt","urlsToIgnore","outstandingRequests","onRequestStart","shouldIgnoreUrl","Rt","settlers","subscribe","settlersAreSettled","Pt","storage","getItem","setItem","stringify","At","observers","observeLargestContentfulPaint","observeLayoutShift","firstContentfulPaint","addEvent","timeToFirstByte","firstInputDelay","cumulativeLayoutShift","largestContentfulPaint","disconnect","getEntriesByName","processingStart","hadRecentInput","previousStartTime","firstStartTime","It","Et","Ot","currentSpanContext","visibilityState","getValue","permitted","values","timeOrigin","date","round","localStorage","userAgentData","platform","mobile","generateAnonymousId","fetch","Headers","has","catch","WeakMap","open","removeEventListener","setRequestHeader","DONE","XMLHttpRequest","PerformanceObserver","unsubscribe","settleIgnoreUrls","concat","setUrlsToIgnore","backgroundingListener","schema","Error","deliveryFactory","retryQueueFactory","resourceAttributesSource","getPlugin","platformExtensions","toISOString","keepalive","qt","hostname","Lt","Vt"],"mappings":"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","sourcesContent":["const t=t=>!0===t||!1===t,e=t=>!!t&&\"object\"==typeof t&&!Array.isArray(t),s=t=>\"number\"==typeof t&&Number.isFinite(t)&&!Number.isNaN(t),n=t=>\"string\"==typeof t,r=t=>n(t)&&t.length>0,a=t=>Array.isArray(t)&&t.every((t=>r(t)||t instanceof RegExp));class i{constructor(t){this.attributes=t}set(t,e){(\"string\"==typeof e||\"boolean\"==typeof e||s(e))&&this.attributes.set(t,e)}remove(t){this.attributes.delete(t)}toJson(){return Array.from(this.attributes).map((([t,e])=>function(t,e){switch(typeof e){case\"number\":if(Number.isNaN(e)||!Number.isFinite(e))return;return\"bugsnag.sampling.p\"!==t&&Number.isInteger(e)?{key:t,value:{intValue:`${e}`}}:{key:t,value:{doubleValue:e}};case\"boolean\":return{key:t,value:{boolValue:e}};case\"string\":return{key:t,value:{stringValue:e}};default:return}}(t,e)))}}class o extends i{constructor(t,e,s,n){const r=new Map([[\"deployment.environment\",t],[\"telemetry.sdk.name\",s],[\"telemetry.sdk.version\",n]]);e.length>0&&r.set(\"service.version\",e),super(r)}}const u=1e6;const c={appVersion:{defaultValue:\"\",message:\"should be a string\",validate:r},endpoint:{defaultValue:\"https://otlp.bugsnag.com/v1/traces\",message:\"should be a string\",validate:r},apiKey:{defaultValue:\"\",message:\"should be a 32 character hexadecimal string\",validate:t=>n(t)&&/^[a-f0-9]{32}$/.test(t)},logger:{defaultValue:{debug(t){console.debug(t)},info(t){console.info(t)},warn(t){console.warn(t)},error(t){console.error(t)}},message:\"should be a Logger object\",validate:t=>e(t)&&\"function\"==typeof t.debug&&\"function\"==typeof t.info&&\"function\"==typeof t.warn&&\"function\"==typeof t.error},releaseStage:{defaultValue:\"production\",message:\"should be a string\",validate:r},enabledReleaseStages:{defaultValue:null,message:\"should be an array of strings\",validate:t=>null===t||(t=>Array.isArray(t)&&t.every(r))(t)},plugins:{defaultValue:[],message:\"should be an array of plugin objects\",validate:function(t){return Array.isArray(t)&&t.every((t=>function(t){return e(t)&&\"function\"==typeof t.configure}(t)))}}};class l{constructor(t,e,s,n,r,a){this.spans=[],this.timeout=null,this.flushQueue=Promise.resolve(),this.delivery=t,this.configuration=e,this.retryQueue=s,this.sampler=n,this.probabilityManager=r,this.encoder=a,this.flush=this.flush.bind(this)}stop(){null!==this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}start(){this.stop(),this.timeout=setTimeout(this.flush,this.configuration.batchInactivityTimeoutMs)}add(t){this.configuration.enabledReleaseStages&&!this.configuration.enabledReleaseStages.includes(this.configuration.releaseStage)||(this.spans.push(t),this.spans.length>=this.configuration.maximumBatchSize?this.flush():this.start())}async flush(){this.stop(),this.flushQueue=this.flushQueue.then((async()=>{this.probabilityManager.fetchingInitialProbability&&await this.probabilityManager.fetchingInitialProbability;const t=this.prepareBatch();if(!t)return;const e=await this.encoder.encode(t),s=Date.now();try{const t=await this.delivery.send(e);switch(void 0!==t.samplingProbability&&this.probabilityManager.setProbability(t.samplingProbability),t.state){case\"success\":this.retryQueue.flush();break;case\"failure-discard\":this.configuration.logger.warn(\"delivery failed\");break;case\"failure-retryable\":this.configuration.logger.info(\"delivery failed, adding to retry queue\"),this.retryQueue.add(e,s);break;default:t.state}}catch(t){this.configuration.logger.warn(\"delivery failed\")}})),await this.flushQueue}prepareBatch(){if(0===this.spans.length)return;const t=[],e=this.sampler.spanProbability;for(const s of this.spans)s.samplingProbability.raw>e.raw&&(s.samplingProbability=e),this.sampler.sample(s)&&t.push(s);return this.spans=[],0!==t.length?t:void 0}}class d{constructor(){this.events=[]}add(t,e){this.events.push({name:t,time:e})}toJson(t){return this.events.map((({name:e,time:s})=>({name:e,timeUnixNano:t.toUnixTimestampNanoseconds(s)})))}}class h{constructor(t,e,s,n,r,a){this.kind=3,this.events=new d,this.id=t,this.traceId=e,this.parentSpanId=a,this.name=s,this.startTime=n,this.attributes=r,this.samplingRate=function(t){let e=0;for(let s=0;s<t.length/8;s++){const n=8*s;e=(e^Number.parseInt(t.slice(n,n+8),16))>>>0}return e}(this.traceId)}addEvent(t,e){this.events.add(t,e)}setAttribute(t,e){this.attributes.set(t,e)}end(t,e){this.endTime=t;let s=e;return this.attributes.set(\"bugsnag.sampling.p\",s.raw),{id:this.id,name:this.name,kind:this.kind,traceId:this.traceId,startTime:this.startTime,attributes:this.attributes,events:this.events,samplingRate:this.samplingRate,endTime:t,get samplingProbability(){return s},set samplingProbability(t){s=t,this.attributes.set(\"bugsnag.sampling.p\",s.raw)},parentSpanId:this.parentSpanId}}isValid(){return void 0===this.endTime}}const g={startTime:{message:\"should be a number or Date\",getDefaultValue:()=>{},validate:function(t){return s(t)||t instanceof Date}},parentContext:{message:\"should be a SpanContext\",getDefaultValue:()=>{},validate:t=>null===t||(t=>e(t)&&\"string\"==typeof t.id&&\"string\"==typeof t.traceId&&\"function\"==typeof t.isValid)(t)},makeCurrentContext:{message:\"should be true|false\",getDefaultValue:()=>{},validate:t},isFirstClass:{message:\"should be true|false\",getDefaultValue:()=>{},validate:t}};class p{constructor(t,e,s){this.clock=t,this.configuration=e,this.resourceAttributeSource=s}async encode(t){const e=await this.resourceAttributeSource(this.configuration),s=Array(t.length);for(let e=0;e<t.length;++e)s[e]=(n=t[e],r=this.clock,{name:n.name,kind:n.kind,spanId:n.id,traceId:n.traceId,parentSpanId:n.parentSpanId,startTimeUnixNano:r.toUnixTimestampNanoseconds(n.startTime),endTimeUnixNano:r.toUnixTimestampNanoseconds(n.endTime),attributes:n.attributes.toJson(),events:n.events.toJson(r)});var n,r;return{body:{resourceSpans:[{resource:{attributes:e.toJson()},scopeSpans:[{spans:s}]}]},headers:{\"Bugsnag-Api-Key\":this.configuration.apiKey,\"Content-Type\":\"application/json\",\"Bugsnag-Span-Sampling\":this.generateSamplingHeader(t)}}}generateSamplingHeader(t){if(0===t.length)return\"1:0\";const e=Object.create(null);for(const s of t){const t=e[s.samplingProbability.raw]||0;e[s.samplingProbability.raw]=t+1}const s=Object.keys(e),n=Array(s.length);for(let t=0;t<s.length;++t){const r=s[t];n[t]=`${r}:${e[r]}`}return n.join(\";\")}}const f=new Set([402,407,408,429]);class b{constructor(t,e){this.delivery=t,this.payload={body:{resourceSpans:[]},headers:{\"Bugsnag-Api-Key\":e,\"Content-Type\":\"application/json\",\"Bugsnag-Span-Sampling\":\"1.0:0\"}}}async getNewProbability(){for(;;){const t=await this.delivery.send(this.payload);if(void 0!==t.samplingProbability)return t.samplingProbability;await this.timeBetweenRetries()}}timeBetweenRetries(){return new Promise((t=>{setTimeout(t,3e4)}))}}const m=864e5;class y{static async create(t,e,s){const n=await t.load(\"bugsnag-sampling-probability\");let r,a;return void 0===n?(e.probability=1,r=0,a=0):n.time<Date.now()-m?(e.probability=n.value,r=n.time,a=0):(e.probability=n.value,r=n.time,a=m-(Date.now()-r)),new y(t,e,s,a,r)}constructor(t,e,s,n,r){this.timeout=void 0,this.persistence=t,this.sampler=e,this.probabilityFetcher=s,this.lastProbabilityTime=r,0===n&&(this.fetchingInitialProbability=new Promise((t=>{this.resolveInitialProbability=t}))),this.fetchNewProbabilityIn(n)}setProbability(t){return this.lastProbabilityTime=Date.now(),this.sampler.probability=t,this.fetchNewProbabilityIn(m),this.persistence.save(\"bugsnag-sampling-probability\",{value:t,time:this.lastProbabilityTime})}fetchNewProbabilityIn(t){clearTimeout(this.timeout);const e=this.lastProbabilityTime;this.timeout=setTimeout((async()=>{const t=await this.probabilityFetcher.getNewProbability();e===this.lastProbabilityTime&&this.setProbability(t),this.resolveInitialProbability&&(this.resolveInitialProbability(),this.resolveInitialProbability=void 0,this.fetchingInitialProbability=void 0)}),t)}}class v{constructor(){this.spans=[]}add(t){this.spans.push(t)}}function w(t){return Math.floor(4294967295*t)}class S{constructor(t){this._probability=t,this.scaledProbability=w(t)}get probability(){return this._probability}set probability(t){this._probability=t,this.scaledProbability=w(t)}get spanProbability(){return{raw:this._probability,scaled:this.scaledProbability}}sample(t){return t.samplingRate<=t.samplingProbability.scaled}shouldSample(t){return t<=this.spanProbability.scaled}}class k{constructor(t,e=[]){this.isInForeground=!0,this.onBackgroundStateChange=t=>{this.isInForeground=\"in-foreground\"===t,this.contextStack.length=0},this.contextStack=e,t.onStateChange(this.onBackgroundStateChange)}*[Symbol.iterator](){for(let t=this.contextStack.length-1;t>=0;--t)yield this.contextStack[t]}push(t){t.isValid()&&this.isInForeground&&this.contextStack.push(t)}pop(t){var e,s;e=t,s=this.current,(e===s||void 0!==e&&void 0!==s&&e.id===s.id&&e.traceId===s.traceId)&&this.contextStack.pop(),this.removeClosedContexts()}get first(){return this.removeClosedContexts(),this.contextStack.length>0?this.contextStack[0]:void 0}get current(){return this.removeClosedContexts(),this.contextStack.length>0?this.contextStack[this.contextStack.length-1]:void 0}removeClosedContexts(){for(;this.contextStack.length>0&&!1===this.contextStack[this.contextStack.length-1].isValid();)this.contextStack.pop()}}function T(t,e){return s(e)?e:e instanceof Date?t.convert(e):t.now()}class C{constructor(t,e,s,n,r,a,i,o){this.openSpans=new WeakSet,this.isInForeground=!0,this.onBackgroundStateChange=t=>{this.isInForeground=\"in-foreground\"===t,this.openSpans=new WeakSet},this.processor=t,this.sampler=e,this.idGenerator=s,this.spanAttributesSource=n,this.clock=r,this.logger=i,this.spanContextStorage=o,a.onStateChange(this.onBackgroundStateChange)}startSpan(t,s){const n=T(this.clock,s.startTime),r=this.idGenerator.generate(64),a=(o=s.parentContext,e(o)&&\"string\"==typeof o.id&&\"string\"==typeof o.traceId||null===s.parentContext?s.parentContext:this.spanContextStorage.current);var o;const u=a?a.id:void 0,c=a?a.traceId:this.idGenerator.generate(128),l=new i(new Map);\"boolean\"==typeof s.isFirstClass&&l.set(\"bugsnag.span.first_class\",s.isFirstClass);const d=new h(r,c,t,n,l,u);return this.isInForeground&&(this.openSpans.add(d),!1!==s.makeCurrentContext&&this.spanContextStorage.push(d)),d}startNetworkSpan(t){const e=`[HTTP/${t.method.toUpperCase()}]`,s=this.validateSpanOptions(e,t),n=this.startSpan(s.name,Object.assign(Object.assign({},s.options),{makeCurrentContext:!1}));return n.setAttribute(\"bugsnag.span.category\",\"network\"),n.setAttribute(\"http.method\",t.method),n.setAttribute(\"http.url\",t.url),n}configure(t,e){this.processor=t,this.logger=e}endSpan(t,e,s){if(!this.openSpans.delete(t))return void(t.isValid()||this.logger.warn(\"Attempted to end a Span which has already ended.\"));if(-1===e)return;for(const[e,n]of Object.entries(s||{}))t.setAttribute(e,n);this.spanAttributesSource.requestAttributes(t);const n=t.end(e,this.sampler.spanProbability);this.spanContextStorage.pop(t),this.sampler.sample(n)&&this.processor.add(n)}toPublicApi(t){return{get id(){return t.id},get traceId(){return t.traceId},get samplingRate(){return t.samplingRate},isValid:()=>t.isValid(),end:e=>{const s=T(this.clock,e);this.endSpan(t,s)}}}validateSpanOptions(t,s,n=g){let r=\"\";const a={};if(\"string\"!=typeof t&&(r+=\"\\n  - name should be a string, got \"+typeof t,t=String(t)),void 0===s||e(s)){const t=s||{};for(const e of Object.keys(n))Object.prototype.hasOwnProperty.call(t,e)&&void 0!==t[e]?n[e].validate(t[e])?a[e]=t[e]:(r+=`\\n  - ${e} ${n[e].message}, got ${typeof t[e]}`,a[e]=n[e].getDefaultValue(t[e])):a[e]=n[e].getDefaultValue(t[e])}else r+=\"\\n  - options is not an object\";return r.length>0&&this.logger.warn(`Invalid span options${r}`),{name:t,options:a}}}function x(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,\"default\")?t.default:t}var R=function(t,e){var s=\"000000000\"+t;return s.substr(s.length-e)},P=R,A=\"object\"==typeof window?window:self,I=0;for(var E in A)Object.hasOwnProperty.call(A,E)&&I++;var O=P(((navigator.mimeTypes?navigator.mimeTypes.length:0)+navigator.userAgent.length).toString(36)+I.toString(36),4),q=function(){return O},L=function(t){return\"string\"==typeof t&&/^c[a-z0-9]{20,32}$/.test(t)},V=R,j=0,F=4,N=36,U=Math.pow(N,F);function B(){return V((Math.random()*U<<0).toString(N),F)}function D(){return\"c\"+(new Date).getTime().toString(N)+V((j=j<U?j:0,++j-1).toString(N),F)+q()+(B()+B())}D.fingerprint=q,D.isCuid=L;const _=x(D),{isCuid:M}=_;class ${constructor(){this.persistedItems=new Map}async load(t){return this.persistedItems.get(t)}async save(t,e){this.persistedItems.set(t,e)}}function H(t,n){switch(t){case\"bugsnag-sampling-probability\":{const t=JSON.parse(n);return e(r=t)&&s(r.value)&&s(r.time)?t:void 0}case\"bugsnag-anonymous-id\":return M(n)?n:void 0}var r}class Q{constructor(t,e){this.delivery=t,this.retryQueueMaxSize=e,this.requestQueue=Promise.resolve(),this.payloads=[]}add(t,e){this.payloads.push({payload:t,time:e});let s=this.payloads.reduce(((t,{payload:e})=>t+z(e)),0);for(;s>this.retryQueueMaxSize;){const t=this.payloads.shift();if(!t)break;s-=z(t.payload)}}async flush(){if(0===this.payloads.length)return;const t=this.payloads;this.payloads=[],this.requestQueue=this.requestQueue.then((async()=>{for(const{payload:e,time:s}of t)if(!(Date.now()>=s+864e5))try{const{state:t}=await this.delivery.send(e);switch(t){case\"success\":case\"failure-discard\":break;case\"failure-retryable\":this.add(e,s)}}catch(t){}})),await this.requestQueue}}function z(t){let e=0;for(let s=0;s<t.body.resourceSpans.length;++s){const n=t.body.resourceSpans[s].scopeSpans;for(let t=0;t<n.length;++t)e+=n[t].spans.length}return e}function K(t){const e=t.get(\"Bugsnag-Sampling-Probability\");if(\"string\"!=typeof e)return;const s=Number.parseFloat(e);return Number.isNaN(s)||s<0||s>1?void 0:s}function J(t){return t}function W(t){return\"function\"==typeof t}class G{constructor(){this.callbacks=[]}onStart(t){this.callbacks.push(t)}start(t){const e=[];for(const s of this.callbacks){const n=s(t);n&&e.push(n)}return{onRequestEnd:t=>{for(const s of e)s&&s.onRequestEnd&&s.onRequestEnd(t)},extraRequestHeaders:e.map((t=>{if(t&&t.extraRequestHeaders)return t.extraRequestHeaders})).filter(X)}}}function X(t){return void 0!==t}function Y(t,e){if(0===t.indexOf(\"https://\")||0===t.indexOf(\"http://\"))return t;try{const s=new URL(t,e).href;return!t.endsWith(\"/\")&&s.endsWith(\"/\")?s.slice(0,-1):s}catch(e){return t}}function Z(t){return!(!t||\"object\"!=typeof t||t instanceof URL)}const tt={referrer:!0,title:!0,url:!0};function et(t){return Object.assign(Object.assign({},tt),t)}function st(t){const s=[\"undefined\",\"boolean\"],n=Object.keys(tt);return e(t)&&n.every((e=>s.includes(typeof t[e])))}const nt=t=>t.pathname||\"/\",rt=()=>class{constructor(t=nt){this.resolveRoute=t}listenForRouteChanges(t){}},at=(t,e)=>class{constructor(t=nt){this.resolveRoute=t}listenForRouteChanges(s){addEventListener(\"popstate\",(n=>{const r=new URL(e.href),a=s(r,\"popstate\");t((t=>{a.end(t)}))}));const n=history.pushState;history.pushState=function(...e){const r=e[2];if(r){const e=new URL(Y(r.toString(),document.baseURI)),n=s(e,\"pushState\");t((t=>{n.end(t)}))}n.apply(this,e)}}};class it{constructor(t,e,s,n,r,a,i){this.wasBackgrounded=!1,this.document=t,this.location=e,this.spanFactory=s,this.webVitals=n,this.onSettle=r,this.performance=i,a.onStateChange((t=>{this.wasBackgrounded||\"in-background\"!==t||(this.wasBackgrounded=!0)}))}configure(t){if(!t.autoInstrumentFullPageLoads||this.wasBackgrounded)return;let e=null;const s=document.querySelector('meta[name=\"traceparent\"]');if(null!==s&&s.getAttribute(\"content\")){const t=s.getAttribute(\"content\"),[,n,r]=t.split(\"-\");e={traceId:n,id:r}}const n=this.spanFactory.startSpan(\"[FullPageLoad]\",{startTime:0,parentContext:e}),r=et(t.sendPageAttributes),a=new URL(this.location.href);this.onSettle((e=>{if(this.wasBackgrounded)return;const s=t.routingProvider.resolveRoute(a)||nt(a);n.name+=s,((t,e,s,n)=>{function r(e,r,a){if(function(t,e){return void 0===t||void 0===e||0===t&&0===e}(r,a))return;const i=t.startSpan(`[PageLoadPhase/${e}]${s}`,{startTime:r,parentContext:n,makeCurrentContext:!1});i.setAttribute(\"bugsnag.span.category\",\"page_load_phase\"),i.setAttribute(\"bugsnag.phase\",e),t.endSpan(i,a)}const a=e.getEntriesByType(\"navigation\"),i=Array.isArray(a)&&a[0];if(i){r(\"Unload\",i.unloadEventStart,i.unloadEventEnd),r(\"Redirect\",i.redirectStart,i.redirectEnd),r(\"LoadFromCache\",i.fetchStart,i.domainLookupStart),r(\"DNSLookup\",i.domainLookupStart,i.domainLookupEnd);const t=i.secureConnectionStart||i.connectEnd;r(\"TCPHandshake\",i.connectStart,t),r(\"TLS\",i.secureConnectionStart,i.connectEnd),r(\"HTTPRequest\",i.requestStart,i.responseStart),r(\"HTTPResponse\",i.responseStart,i.responseEnd),r(\"DomContentLoadedEvent\",i.domContentLoadedEventStart,i.domContentLoadedEventEnd),r(\"LoadEvent\",i.loadEventStart,i.loadEventEnd)}})(this.spanFactory,this.performance,s,n),n.setAttribute(\"bugsnag.span.category\",\"full_page_load\"),n.setAttribute(\"bugsnag.browser.page.route\",s),r.referrer&&n.setAttribute(\"bugsnag.browser.page.referrer\",this.document.referrer),r.title&&n.setAttribute(\"bugsnag.browser.page.title\",this.document.title),r.url&&n.setAttribute(\"bugsnag.browser.page.url\",a.toString()),this.webVitals.attachTo(n),this.spanFactory.endSpan(n,e)}))}}const ot=[\"http://\",\"https://\",\"/\",\"./\",\"../\"];class ut{constructor(t,e,s,n){this.spanFactory=t,this.spanContextStorage=e,this.fetchTracker=s,this.xhrTracker=n,this.configEndpoint=\"\",this.networkRequestCallback=J,this.logger={debug:console.debug,warn:console.warn,info:console.info,error:console.error},this.trackRequest=t=>{if(!this.shouldTrackRequest(t))return;const e={url:t.url,type:t.type,propagateTraceContext:false},s=this.networkRequestCallback(e);if(!s)return{onRequestEnd:void 0,extraRequestHeaders:void 0};if(void 0===s.propagateTraceContext&&(s.propagateTraceContext=false),!s.url)return{onRequestEnd:void 0,extraRequestHeaders:s.propagateTraceContext?this.getExtraRequestHeaders():void 0};if(\"string\"!=typeof s.url)return void this.logger.warn(\"expected url to be a string following network request callback, got \"+typeof s.url);const n=this.spanFactory.startNetworkSpan({method:t.method,startTime:t.startTime,url:s.url});return{onRequestEnd:t=>{\"success\"===t.state&&this.spanFactory.endSpan(n,t.endTime,{\"http.status_code\":t.status})},extraRequestHeaders:s.propagateTraceContext?this.getExtraRequestHeaders(n):void 0}}}configure(t){this.logger=t.logger,t.autoInstrumentNetworkRequests&&(this.configEndpoint=t.endpoint,this.xhrTracker.onStart(this.trackRequest),this.fetchTracker.onStart(this.trackRequest),this.networkRequestCallback=t.networkRequestCallback)}shouldTrackRequest(t){return t.url!==this.configEndpoint&&ot.some((e=>t.url.startsWith(e)))}getExtraRequestHeaders(t){const e={};if(t){const s=t.traceId,n=t.id,r=this.spanFactory.sampler.shouldSample(t.samplingRate);e.traceparent=ct(s,n,r)}else if(this.spanContextStorage.current){const t=this.spanContextStorage.current,s=t.traceId,n=t.id,r=this.spanFactory.sampler.shouldSample(t.samplingRate);e.traceparent=ct(s,n,r)}return e}}function ct(t,e,s){return`00-${t}-${e}-${s?\"01\":\"00\"}`}function lt(t){switch(t){case\"\":return;case\"http/1.0\":return\"1.0\";case\"http/1.1\":return\"1.1\";case\"h2\":case\"h2c\":return\"2.0\";case\"h3\":return\"3.0\";case\"spdy/1\":case\"spdy/2\":case\"spdy/3\":return\"SPDY\";default:return t}}class dt{constructor(t,e,s){this.spanFactory=t,this.spanContextStorage=e,this.PerformanceObserverClass=s}configure(t){if(!((e=this.PerformanceObserverClass)&&Array.isArray(e.supportedEntryTypes)&&e.supportedEntryTypes.includes(\"resource\")))return;var e;const s=new this.PerformanceObserverClass((e=>{const s=e.getEntries();for(const e of s){if(\"fetch\"===e.initiatorType||\"xmlhttprequest\"===e.initiatorType)continue;const s=this.spanContextStorage.first;if(s){const n=t.networkRequestCallback({url:e.name,type:e.initiatorType});if(!n)return;if(\"string\"!=typeof n.url)return void t.logger.warn(\"expected url to be a string following network request callback, got \"+typeof n.url);let r=\"\";try{const t=new URL(n.url);t.search=\"\",r=t.href}catch(e){return void t.logger.warn(`Unable to parse URL returned from networkRequestCallback: ${n.url}`)}const a=this.spanFactory.startSpan(`[ResourceLoad]${r}`,{parentContext:s,startTime:e.startTime,makeCurrentContext:!1});a.setAttribute(\"bugsnag.span.category\",\"resource_load\"),a.setAttribute(\"http.url\",n.url);const i=lt(e.nextHopProtocol);i&&a.setAttribute(\"http.flavor\",i),e.encodedBodySize&&e.decodedBodySize&&(a.setAttribute(\"http.response_content_length\",e.encodedBodySize),a.setAttribute(\"http.response_content_length_uncompressed\",e.decodedBodySize)),e.responseStatus&&a.setAttribute(\"http.status_code\",e.responseStatus),this.spanFactory.endSpan(a,e.responseEnd)}}}));try{s.observe({type:\"resource\",buffered:!0})}catch(e){t.logger.warn(\"Unable to get previous resource loads as buffered observer not supported, only showing resource loads from this point on\"),s.observe({entryTypes:[\"resource\"]})}}}const{startTime:ht,parentContext:gt,makeCurrentContext:pt}=g,ft={startTime:ht,parentContext:gt,makeCurrentContext:pt,trigger:{getDefaultValue:t=>String(t),message:\"should be a string\",validate:n}};class bt{constructor(t,e,s){this.spanFactory=t,this.location=e,this.document=s}configure(t){if(!t.autoInstrumentRouteChanges)return;const s=new URL(this.location.href);let n=t.routingProvider.resolveRoute(s)||nt(s);const r=et(t.sendPageAttributes);t.routingProvider.listenForRouteChanges(((s,a,i)=>{let o;if(s instanceof URL)o=s;else try{const t=String(s);o=new URL(t)}catch(e){return t.logger.warn(\"Invalid span options\\n  - url should be a URL\"),{id:\"\",traceId:\"\",samplingRate:0,isValid:()=>!1,end:()=>{}}}const u=Object.assign(Object.assign({},i),{trigger:a}),c=this.spanFactory.validateSpanOptions(\"[RouteChange]\",u,ft),l=t.routingProvider.resolveRoute(o)||nt(o);c.name+=l;const d=this.spanFactory.startSpan(c.name,c.options);return d.setAttribute(\"bugsnag.span.category\",\"route_change\"),d.setAttribute(\"bugsnag.browser.page.route\",l),d.setAttribute(\"bugsnag.browser.page.previous_route\",n),d.setAttribute(\"bugsnag.browser.page.route_change.trigger\",c.options.trigger),r.url&&d.setAttribute(\"bugsnag.browser.page.url\",s.toString()),n=l,{id:d.id,traceId:d.traceId,isValid:d.isValid,samplingRate:d.samplingRate,end:s=>{const a=e(s)?s:{endTime:s};if(r.title&&d.setAttribute(\"bugsnag.browser.page.title\",this.document.title),a.url){const e=function(t){if(\"string\"==typeof t)return new URL(t);return t}(a.url),s=t.routingProvider.resolveRoute(e)||nt(e);d.name=`[RouteChange]${s}`,d.setAttribute(\"bugsnag.browser.page.route\",s),n=s,r.url&&d.setAttribute(\"bugsnag.browser.page.url\",e.toString())}this.spanFactory.toPublicApi(d).end(a.endTime)}}}))}}const mt=3e5;function yt(t,e){return Math.abs(Date.now()-(t+e.now()))>mt?Date.now()-e.now():t}const vt=t=>e(t)&&\"function\"==typeof t.resolveRoute&&\"function\"==typeof t.listenForRouteChanges;function wt(t){const e=t.toString(16);return 1===e.length?\"0\"+e:e}const St={generate(t){const e=new Uint8Array(t/8),s=window.crypto.getRandomValues(e);return Array.from(s,wt).join(\"\")}};class kt{constructor(t){this.settled=!1,this.callbacks=new Set,this.clock=t}subscribe(t){this.callbacks.add(t),this.isSettled()&&t(this.clock.now())}unsubscribe(t){this.callbacks.delete(t)}isSettled(){return this.settled}settle(t){this.settled=!0;for(const e of this.callbacks)e(t)}}class Tt extends kt{constructor(t,e){super(t),this.timeout=void 0;new MutationObserver((()=>{this.restart()})).observe(e,{subtree:!0,childList:!0,characterData:!0}),this.restart()}restart(){clearTimeout(this.timeout),this.settled=!1;const t=this.clock.now();this.timeout=setTimeout((()=>{this.settle(t)}),100)}}class Ct extends kt{constructor(t,e,s,n){super(t),\"complete\"===n.readyState?setTimeout((()=>{this.settleUsingPerformance(s)}),0):e(\"load\",(()=>{setTimeout((()=>{this.settleUsingPerformance(s)}),0)}))}settleUsingPerformance(t){const e=this.clock.now(),s=\"function\"==typeof t.getEntriesByType?t.getEntriesByType(\"navigation\")[0]:void 0;let n=0;!function(t){return!!t&&\"navigation\"===t.entryType}(s)?t.timing&&(n=t.timing.loadEventEnd-t.timing.navigationStart):n=s.loadEventEnd,(n<=0||n>e)&&(n=e),this.settle(n)}}class xt extends kt{constructor(t,e){super(t),this.timeout=void 0,this.urlsToIgnore=[],this.outstandingRequests=0,this.settled=!0,e.onStart(this.onRequestStart.bind(this))}setUrlsToIgnore(t){this.urlsToIgnore=t}onRequestStart(t){if(!this.shouldIgnoreUrl(t.url))return clearTimeout(this.timeout),this.settled=!1,++this.outstandingRequests,{onRequestEnd:t=>{if(0==--this.outstandingRequests){const t=this.clock.now();this.timeout=setTimeout((()=>{this.settle(t)}),100)}}}}shouldIgnoreUrl(t){return this.urlsToIgnore.some((e=>e.test(t)))}}class Rt extends kt{constructor(t,e){super(t),this.settlers=e;for(const t of e)t.subscribe((t=>{this.settlersAreSettled()?this.settle(t):this.settled=!1}))}isSettled(){return super.isSettled()&&this.settlersAreSettled()}settlersAreSettled(){for(const t of this.settlers)if(!t.isSettled())return!1;return!0}}class Pt{constructor(t){this.storage=t}async load(t){try{const e=this.storage.getItem(t);if(e)return H(t,e)}catch(t){}}async save(t,e){try{this.storage.setItem(t,function(t,e){switch(t){case\"bugsnag-sampling-probability\":return JSON.stringify(e);case\"bugsnag-anonymous-id\":return e;default:return t}}(t,e))}catch(t){}}}class At{constructor(t,e,s){if(this.performance=t,this.clock=e,this.observers=[],s&&Array.isArray(s.supportedEntryTypes)){const t=s.supportedEntryTypes;t.includes(\"largest-contentful-paint\")&&this.observeLargestContentfulPaint(s),t.includes(\"layout-shift\")&&this.observeLayoutShift(s)}}attachTo(t){const e=this.firstContentfulPaint();e&&t.addEvent(\"fcp\",e);const s=this.timeToFirstByte();s&&t.addEvent(\"ttfb\",s);const n=this.firstInputDelay();n&&(t.addEvent(\"fid_start\",n.start),t.addEvent(\"fid_end\",n.end)),this.cumulativeLayoutShift&&t.setAttribute(\"bugsnag.metrics.cls\",this.cumulativeLayoutShift),this.largestContentfulPaint&&t.addEvent(\"lcp\",this.largestContentfulPaint);for(const t of this.observers)t.disconnect()}firstContentfulPaint(){const t=this.performance.getEntriesByName(\"first-contentful-paint\",\"paint\"),e=Array.isArray(t)&&t[0];if(e)return e.startTime}timeToFirstByte(){const t=this.performance.getEntriesByType(\"navigation\"),e=Array.isArray(t)&&t[0];let s;if(s=e?e.responseStart:this.performance.timing.responseStart-this.performance.timing.navigationStart,s>0&&s<=this.clock.now())return s}firstInputDelay(){const t=this.performance.getEntriesByType(\"first-input\"),e=Array.isArray(t)&&t[0];if(e)return{start:e.startTime,end:e.processingStart}}observeLargestContentfulPaint(t){const e=new t((t=>{const e=t.getEntries();e.length>0&&(this.largestContentfulPaint=e[e.length-1].startTime)}));e.observe({type:\"largest-contentful-paint\",buffered:!0}),this.observers.push(e)}observeLayoutShift(t){let e;const s=new t((t=>{for(const s of t.getEntries())s.hadRecentInput||(e&&s.startTime-e.previousStartTime<1e3&&s.startTime-e.firstStartTime<5e3?(e.value+=s.value,e.previousStartTime=s.startTime):e={value:s.value,firstStartTime:s.startTime,previousStartTime:s.startTime});e&&(void 0===this.cumulativeLayoutShift||e.value>this.cumulativeLayoutShift)&&(this.cumulativeLayoutShift=e.value)}));s.observe({type:\"layout-shift\",buffered:!0}),this.observers.push(s)}}let It,Et,Ot;if(\"undefined\"==typeof window||\"undefined\"==typeof document)It=function(){const t=()=>{};return t.configure=()=>{},t}(),Et=rt(),Ot=function(){const t=()=>{};return{start:t,startSpan:()=>({id:\"\",traceId:\"\",end:t,isValid:()=>!1}),currentSpanContext:void 0}}();else{const s=function(t){const e=[];let s=\"hidden\"===t.document.visibilityState?\"in-background\":\"in-foreground\";const n={onStateChange(t){e.push(t),\"in-background\"===s&&t(s)}},r=t=>{if(s!==t){s=t;for(const t of e)t(s)}};return t.document.addEventListener(\"visibilitychange\",(function(){const e=\"hidden\"===t.document.visibilityState?\"in-background\":\"in-foreground\";r(e)})),t.addEventListener(\"pagehide\",(function(){r(\"in-background\")})),t.addEventListener(\"pageshow\",(function(){r(\"in-foreground\")})),n}(window),r=(t=>{const e={url:{name:\"bugsnag.browser.page.url\",getValue:()=>t.location.href,permitted:!1},title:{name:\"bugsnag.browser.page.title\",getValue:()=>t.title,permitted:!1}};return{configure(t){e.title.permitted=t.sendPageAttributes.title||!1,e.url.permitted=t.sendPageAttributes.url||!1},requestAttributes(t){for(const s of Object.values(e))s.permitted&&t.setAttribute(s.name,s.getValue())}}})(document),i=function(t,e){let s=yt(void 0===t.timeOrigin?t.timing.navigationStart:t.timeOrigin,t);return e.onStateChange((e=>{\"in-foreground\"===e&&(s=yt(s,t))})),{now:()=>t.now(),date:()=>new Date(s+t.now()),convert:t=>t.getTime()-s,toUnixTimestampNanoseconds:t=>{return(e=s+t,Math.round(e*u)).toString();var e}}}(performance,s),d=function(t){try{if(t.localStorage)return new Pt(t.localStorage)}catch(t){}return new $}(window),h=function(t,e){let s,n;return function(r){const a=new o(r.releaseStage,r.appVersion,\"bugsnag.performance.browser\",\"2.6.0\");if(a.set(\"browser.user_agent\",t.userAgent),t.userAgentData&&(a.set(\"browser.platform\",t.userAgentData.platform),a.set(\"browser.mobile\",t.userAgentData.mobile)),r.generateAnonymousId){if(s||(s=e.load(\"bugsnag-anonymous-id\").then((t=>{const s=t||_();return t||e.save(\"bugsnag-anonymous-id\",s),n=s,n}))),!n)return s.then((t=>(a.set(\"device.id\",t),a)));a.set(\"device.id\",n)}return Promise.resolve(a)}}(navigator,d),g=function(t,e){const s=new G,n=t.fetch;return t.fetch=function(r,a){const i=function(t,e,s,n){const r=Z(e),a=r?e.url:String(e),i=!!s&&s.method||r&&e.method||\"GET\";return{url:Y(a,n),method:i,startTime:t,type:\"fetch\"}}(e.now(),r,a,t.document&&t.document.baseURI),{onRequestEnd:o,extraRequestHeaders:u}=s.start(i),c=function(t,e,s){if(!s)return[t,e];const n=s.reduce(((t,e)=>Object.assign(Object.assign({},t),e)),{});return!Z(t)||e&&e.headers?e=function(t,e){if(e||(e={}),function(t){return!!t&&\"object\"==typeof t&&t instanceof Headers}(e.headers)){for(const[s,n]of Object.entries(t))e.headers.has(s)||e.headers.set(s,n);return e}return Object.assign(Object.assign({},e),{headers:Object.assign(Object.assign({},t),e.headers)})}(n,e):function(t,e){for(const[s,n]of Object.entries(t))e.headers.has(s)||e.headers.set(s,n)}(n,t),[t,e]}(r,a,u);return n.call(this,c[0],c[1]).then((t=>(o({status:t.status,endTime:e.now(),state:\"success\"}),t))).catch((t=>{throw o({error:t,endTime:e.now(),state:\"error\"}),t}))},s}(window,i),m=function(t,e,s){const n=new G,r=new WeakMap,a=new WeakMap,i=t.prototype.open;t.prototype.open=function(t,e,...n){r.set(this,{method:t,url:Y(String(e),s&&s.baseURI)}),i.call(this,t,e,...n)};const o=t.prototype.send;return t.prototype.send=function(s){const i=r.get(this);if(i){const s=a.get(this);s&&this.removeEventListener(\"readystatechange\",s);const{onRequestEnd:r,extraRequestHeaders:o}=n.start({type:\"xmlhttprequest\",method:i.method,url:i.url,startTime:e.now()});if(o)for(const t of o)for(const[e,s]of Object.entries(t))this.setRequestHeader(e,s);const u=s=>{if(this.readyState===t.DONE&&r){const t=this.status>0?{endTime:e.now(),status:this.status,state:\"success\"}:{endTime:e.now(),state:\"error\"};r(t)}};this.addEventListener(\"readystatechange\",u),a.set(this,u)}o.call(this,s)},n}(XMLHttpRequest,i,document),w=new At(performance,i,window.PerformanceObserver);It=function(t,e,s,n,r){const a=new Tt(t,e.document),i=new xt(t,s),o=new xt(t,n),u=new Ct(t,e.addEventListener,r,e.document),c=new Rt(t,[a,u,i,o]);function l(e){const s=t=>{clearTimeout(n),c.unsubscribe(s),e(t)},n=setTimeout((()=>{const n=t.now();c.unsubscribe(s),e(n)}),6e4),r=c.isSettled()?100:0,a=t.now();setTimeout((()=>{c.isSettled()?s(a):c.subscribe(s)}),r)}return l.configure=function(t){const e=t.settleIgnoreUrls.map((t=>\"string\"==typeof t?RegExp(t):t)).concat(RegExp(t.endpoint));i.setUrlsToIgnore(e),o.setUrlsToIgnore(e)},l}(i,window,g,m,performance),Et=at(It,window.location),Ot=function(t){const s=new v;let r=s;const a=t.spanContextStorage||new k(t.backgroundingListener);let i=t.schema.logger.defaultValue;const o=new S(1),u=new C(r,o,t.idGenerator,t.spanAttributesSource,t.clock,t.backgroundingListener,i,a),c=t.plugins(u,a);return Object.assign({start:a=>{const d=function(t,s){if(\"string\"==typeof t&&(t={apiKey:t}),!e(t)||!n(t.apiKey)||0===t.apiKey.length)throw new Error(\"No Bugsnag API Key set\");let r=\"\";const a={};for(const e of Object.keys(s))Object.prototype.hasOwnProperty.call(t,e)?s[e].validate(t[e])?a[e]=t[e]:(r+=`\\n  - ${e} ${s[e].message}, got ${typeof t[e]}`,a[e]=s[e].defaultValue):a[e]=s[e].defaultValue;return a.apiKey=t.apiKey,a.maximumBatchSize=t.maximumBatchSize||100,a.batchInactivityTimeoutMs=t.batchInactivityTimeoutMs||3e4,r.length>0&&a.logger.warn(`Invalid configuration${r}`),a}(a,t.schema),h=t.deliveryFactory(d.endpoint);t.spanAttributesSource.configure(d),y.create(t.persistence,o,new b(h,d.apiKey)).then((e=>{r=new l(h,d,t.retryQueueFactory(h,d.retryQueueMaxSize),o,e,new p(t.clock,d,t.resourceAttributesSource));for(const t of s.spans)r.add(t);t.backgroundingListener.onStateChange((t=>{r.flush()})),i=d.logger,u.configure(r,i)}));for(const t of d.plugins)c.push(t);for(const t of c)t.configure(d,u)},startSpan:(t,e)=>{const s=u.validateSpanOptions(t,e),n=u.startSpan(s.name,s.options);return n.setAttribute(\"bugsnag.span.category\",\"custom\"),u.toPublicApi(n)},startNetworkSpan:e=>{const s=u.startNetworkSpan(e),n=u.toPublicApi(s);return Object.assign(Object.assign({},n),{end:e=>{u.endSpan(s,T(t.clock,e.endTime),{\"http.status_code\":e.status})}})},getPlugin:t=>{for(const e of c)if(e instanceof t)return e},get currentSpanContext(){return a.current}},t.platformExtensions&&t.platformExtensions(u,a))}({backgroundingListener:s,clock:i,resourceAttributesSource:h,spanAttributesSource:r,deliveryFactory:function(t,e,s){let n=!1;return s&&s.onStateChange((t=>{n=\"in-background\"===t})),function(s){return{async send(r){const a=JSON.stringify(r.body);r.headers[\"Bugsnag-Sent-At\"]=e.date().toISOString();try{const e=await t(s,{method:\"POST\",keepalive:n,body:a,headers:r.headers});return{state:(i=e.status,i>=200&&i<300?\"success\":i>=400&&i<500&&!f.has(i)?\"failure-discard\":\"failure-retryable\"),samplingProbability:K(e.headers)}}catch(t){return a.length>1e6?{state:\"failure-discard\"}:{state:\"failure-retryable\"}}var i}}}}(window.fetch,i,s),idGenerator:St,schema:(qt=window.location.hostname,Lt=new Et,Object.assign(Object.assign({},c),{releaseStage:Object.assign(Object.assign({},c.releaseStage),{defaultValue:\"localhost\"===qt?\"development\":\"production\"}),autoInstrumentFullPageLoads:{defaultValue:!0,message:\"should be true|false\",validate:t},autoInstrumentNetworkRequests:{defaultValue:!0,message:\"should be true|false\",validate:t},autoInstrumentRouteChanges:{defaultValue:!0,message:\"should be true|false\",validate:t},generateAnonymousId:{defaultValue:!0,message:\"should be true|false\",validate:t},routingProvider:{defaultValue:Lt,message:\"should be a routing provider\",validate:vt},settleIgnoreUrls:{defaultValue:[],message:\"should be an array of string|RegExp\",validate:a},networkRequestCallback:{defaultValue:J,message:\"should be a function\",validate:W},sendPageAttributes:{defaultValue:tt,message:\"should be an object\",validate:st}})),plugins:(t,e)=>[It,new it(document,window.location,t,w,It,s,performance),new dt(t,e,window.PerformanceObserver),new ut(t,e,g,m),new bt(t,window.location,document)],persistence:d,retryQueueFactory:(t,e)=>new Q(t,e)})}var qt,Lt;const Vt=Ot;export{Et as DefaultRoutingProvider,Vt as default,It as onSettle};//# sourceMappingURL=bugsnag-performance.min.js.map\n"],"file":"bugsnag-performance.min.js"}